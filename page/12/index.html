
<!DOCTYPE html>
<html lang="zh_CH ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P-luminary || </title>
    <meta name="author" content="Asuna">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/https://raw.githubusercontent.com/P-luminary/images/master/data/asuna.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">P-luminary</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/tags/语法">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>P-luminary</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/tags/语法">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                    <div id="home-head" style=background-image:url('home.jpg')>
    <script>
        var menu = document.getElementById("menu")
        menu.className += " menu-color"
    </script>
     
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>P-luminary</h1>
                <h3></h3>
                <h5></h5>
            </div>
        </span>
    </div>
     
</div>



<div id="home-posts-wrap" class=>
    <div id="home-posts">

        <div id="posts">
            

<div class="post">

    <a href="/2022/03/27/英语/四级单词-简易版/">
        <h2>
            四级单词-简易版
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/27
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>　</p>
<p><strong>一、动词和动词表达 20个</strong></p>
<p>　　reflect v. 反映，表现，显示</p>
<p>　　demonstrate v. 证明，表明</p>
<p>　　suggest v. 建议;暗示</p>
<p>　　develop v. 发展，进步</p>
<p>　　adjust v. 调整，适应</p>
<p>　　prosper v. 繁荣，成功</p>
<p>　　suppose v. 假设，推想</p>
<p>　　strive for… 争取，奋斗</p>
<p>　　remind sb. of sth. 使某人想起某事</p>
<p>　　succeed in doing sth. 成功地做某事</p>
<p>　　be divided into… 被划分为……</p>
<p>　　It is common that… 某事是很常见的</p>
<p>　　date back to… 追溯到……</p>
<p>　　remain to be seen 拭目以待，仍有待观察</p>
<p>　　believe &#x2F; hold &#x2F; be sure &#x2F; think &#x2F; acknowledge v. 认为，相信，承认</p>
<p>　　end up with 以……告终，结束</p>
<p>　　do harm to… 对……有害，损害</p>
<p>　　benefit from… 从……中收益</p>
<p>　　take… for example 以……为例</p>
<p>　　emphasize the importance of… 强调……的重要性</p>
<p>　　<strong>二、副词、介词表达 10个</strong></p>
<p>　　Nowadays, … adv. 现今，当今，时下</p>
<p>　　Consequently, … adv. 结果是……</p>
<p>　　As a result, … adv. 因此.。.</p>
<p>　　As for me, … &#x2F; In my opinion, … &#x2F; As far as I am concerned, … &#x2F; From my point of view, … 在我看来</p>
<p>　　Firstly, … Secondly, … Moreover &#x2F; Furthermore, … Finally, …</p>
<p>　　首先，……。其次，……。另外，……。最后，……。</p>
<p>　　On one hand, … On the other hand, …</p>
<p>　　一方面 ……。另一方面 ……。</p>
<p>　　As a saying &#x2F; proverb goes，”…” 正如名人名言 &#x2F; 正如谚语说：”……。“</p>
<p>　　According to, … 根据……</p>
<p>　　In conclusion, … 总而言之……</p>
<p>　　For instance &#x2F; example, … 举例</p>
<p>　　<strong>三、形容词 10个</strong></p>
<p>　　popular adj. 流行的，受欢迎的</p>
<p>　　excessive adj. 过多的，极度的</p>
<p>　　renowned adj. 著名的 &#x3D; well-known&#x3D;famous</p>
<p>　　impressive adj. 令人印象深刻的</p>
<p>　　harmful adj. 有害的</p>
<p>　　beneficial adj. 有益的</p>
<p>　　positive adj. 积极的</p>
<p>　　negative adj. 消极的</p>
<p>　　convenient adj. 方便的</p>
<p>　　convenient and efficient 既方便又高效</p>
<hr>
<hr>
<p>science n.科学，学科，技术，知识<br>scientific adj.科学的，有系统的<br>conscious adj.有意识的，神志清醒的<br>consciousness n.知觉，觉悟，意识<br>conscience n.良心，道德心<br>programmable 可设计的，可编程的<br>manual adj.手工的<br>manufacture vt.制造，加工 n.制成品<br>manufacturer n.制造商,制造厂<br>gentle adj.温和的<br>command n.命令 vt.指挥<br>commander n.指挥官<br>manage vt.vi.管理<br>manage on sth 应付…<br>management n.管理人 管理技巧<br>romantic adj.浪漫的 n.浪漫气息的人<br>contact n.接触 vi.联系 vt.使接触<br>community n.社区，社会团体<br>communist n.共产主义者<br>communism n.共产主义 ism&#x3D;主义<br>mutual adj.相互的,彼此的<br>normal adj.正常的 n.标准<br>normally adv.正常地<br>ordinary adj.普通的，平凡的<br>extraordinary adj.卓越的<br>available adj.可获得的<br>idle adj.懒惰的 vi.虚度<br>faulty adj.错误的<br>commit vt.犯罪，承诺 commit sb to&#x2F;to doing sth 向…承诺<br>inaccurate adj.不准确 &#x2F;&#x2F;不能去治疗的<br>accuracy n.准确性<br>right adv.右面 adj.争取的 n.权力<br>entitle vt.使有资格 &#x2F;&#x2F;头衔<br>logical adj.符合逻辑的<br>psychology n.心理学<br>investigate v.调查 &#x2F;&#x2F;vest 背心 invest 投资 igate门<br>persevere v.坚持<br>setback n.挫折<br>dialog n.会话，对话<br>catalog n.目录<br>apologize vi.道歉<br>apology n.认错<br>regret vt.后悔<br>divide vi.vt.分离 n.分配<br>division n.部门，分开<br>individual adj.个人的<br>split vt.分裂 adj裂开的 n.划分（观点不同）<br>descend v.下来，下降，降临<br>inferior adj.低劣的 n.部下，次品<br>fellow n.同伴 adj.同类的<br>lifetime n.有生之年<br>innovate v.创新<br>lively adj.活泼的<br>liver n.肝脏 adj.深褐色的<br>deliver vt.交付,递送<br>delivery n.分娩，传送，投递<br>livelihood n.生计，生活<br>liveliness n.活泼<br>public adj.公开的 n.大众<br>republic n.共和国<br>publication n.出版，发表<br>release vt.释放 n.解除<br>print n.印刷字体 vt&amp;vi 印刷<br>blueprint n.蓝图 vt.为…制蓝图<br>fingerprint n.指纹 vt.采指纹<br>issue n.问题，期，号 vt&amp;vi. 发行，发布<br>air n.空气，气氛 vt.vi.发表<br>final adj.最后的 n.决赛，结局<br>ultimately adv.根本，最后<br>eventually adv.终究，最后<br>event 结果，大事件<br>incident 事变<br>event 历史上重大事件<br>last n.最后，末尾 vi.持续 lasting<br>fine adj.好的，上等的 n.罚款<br>define vt.规定，使明确 vi.下定义<br>definition n.定义，规定，明确<br>refine vt.提炼，改善<br>confine vt.限制，局限于 n.界限，范围<br>definite adj.明确的，肯定<br>definitely adj.明确地<br>finite adj.有限的 n.有限性 &#x2F;&#x2F;fin结束 ite圈<br>infinite adj.无限的 n.无穷<br>terminal adj.末端的，期末的 n.终端，终点站<br>term n.术语，期限，学期，条款 vt.把…称为<br>terminate vt&amp;vi.结束 adj.结束的<br>terminator n.终结者<br>In the event of 如果，万一<br>detect vt.查明，发现，洞察，侦查<br>detection n.侦查<br>detective n.侦探<br>indispensable adj.不可缺少的 &#x2F;&#x2F;in不能 dis分开 pen笔<br>needle n.针<br>quire-seek 获得<br>require vt.需求，要求 vi.要求，规定<br>inquire vt&amp;vi. 打听，询问 &#x2F;&#x2F;in里面 quire&#x3D;seek寻找<br>inquiry n.探究，调查，询问，质问，审查<br>acquire vt.学到，获得，取得 &#x2F;&#x2F;ac去 quire寻找<br>requirement n.要求，必需品<br>request n.要求，需要 vt.请求得到，索取<br>call for 要求<br>letter n.信，字母，证书，许可证<br>literature n.文学，文献，著作<br>literary adj.文学的，精通文学的<br>illiterate adj.文盲的 n.无知<br>poetry n.诗，诗歌，诗意<br>poet n.诗人，空想家<br>overall adj.全部的 n.工装裤，罩衫<br>overseas adv.在海外<br>moreover adv.而且，此外，同时<br>overtake vt.压倒，追上，赶上<br>overcome vt&amp;vi.战胜，克服，压倒<br>triumph n.胜利 vi.战胜，克服，打败<br>Unbeatable 不能被打败<br>patient adj.病人<br>patience n.耐心<br>perspiration adj.努力奋斗 n.汗,汗珠,排汗,出汗<br>conquest n.征服，击败，战利品<br>conquer vt.征服，克服 vi.得胜<br>overlook vt.忽视 n.忽略<br>neglect v.主观忽视<br>ignore v.客观忽视<br>overestimate vt.对（数量）估价过高<br>overrate vt.对（质量）估价过高<br>overstate vt.夸张，夸大（某事）&#x2F;&#x2F;state国家<br>exaggerate vt&amp;vi. 夸张（使）扩大<br>boast vt.自夸 n.自负<br>reluctant adj.不情愿的，勉强的 &#x2F;&#x2F;驴拉他都不情愿<br>dread vt.害怕，担心 n.恐惧 adj.可怕的 vi.十分害怕 &#x2F;&#x2F;r&#x3D;人 d人ead<br>fearless adj.无畏的，大胆的<br>brave adj.勇敢的<br>terrible adj.可怕的 n.可怕的人<br>frighten vt.使惊恐 vi.害怕<br>terror n.恐怖<br>horror n.恐怖<br>distress n.悲痛，不幸，贫困 vt.使痛苦<br>misery n.痛苦，不幸，穷困，悲惨的境遇 &#x2F;&#x2F;miss er-人 恋人<br>miserable adj.悲惨的，使人痛苦的<br>tragedy n.悲剧，惨剧<br>sorrow n.悲痛，悔恨<br>bitter adj.苦的，尖锐的 adv.激烈地 vt.使变苦<br>sadness n.悲哀，忧伤，悲哀<br>base n.基础，基地 vt.把…建立在 adj.低级的 base A on B 、 A be based on B<br>basis n.基础，根据<br>basic adj.基本的 n.基础<br>bottom n.底部 adj.底部的 v.装底<br>basically adv.基本上<br>basement n.地下室，底部<br>based adj.有根基的，有基地的 v.以…为基础<br>baseball n.棒球<br>rugby n.橄榄球<br>found vt.创立，创办，建立<br>foundation n.基础，基金<br>finding n.发现物，调查…的结果<br>explore vi.侦查，勘探 vt.探索，探究<br>make vt.做，使成为  vi.开始，尝试  n.制造，性格，形状 make sb&#x2F;sth<br>produce vi&amp;vt 产生，生产(bring about)，制造 n.产品，结果<br>yield vt.生产 (bring about&#x2F;lead to) vi.屈服 n.产量，产额<br>just adj.公正的 adv.仅仅<br>justice n.公正，正义<br>adjust vt&amp;vi 适应，调整<br>coordinate vt.使协调，整合<br>justify vt.为…辩护 证明…有理<br>Appeal to sb for sth 呼吁某人做某事<br>famine n.饥民<br>fair adj.公平的，合理的，晴朗的 adv.清楚地 n.庙会，美人，市集 vt.衔接协调 vi.转晴<br>fairness n.公正，公平，（皮肤）洁白<br>fairly adv.相当地，公平地<br>affair n.事务 风流韵事，私事    (aff-加强程度)<br>consistency n.一惯性(con&#x3D;all st&#x3D;stand 全部站着（一直）)<br>live up to 遵守，做到<br>judge vt&amp;vi.评判，审判 vt.评价 n.法官，裁判员<br>judgement n.判断，评价，审判，看法<br>prejudice n.侵害，偏见，歧视 vt.损害，有偏见     having or showing prejudice 有偏见的<br>bias n.偏见，倾向 adj.斜的 （bicycle bi&#x3D;双“车轮” as&#x3D;作为 作为两种结果：我要么喜欢你 要么不喜欢你）<br>discrimination n.歧视，区别，判别力（dis&#x3D;not否定 crim&#x3D;crime犯罪 in里面 犯罪了不让他在里面&#x3D;歧视）<br>crime n.犯罪，罪行 v.指控犯罪<br>criminal n.犯人，罪犯 adj.犯罪的，刑事的<br>guilty adj.有罪的，内疚的+of （gui&#x3D;鬼）<br>jobless n.失业的<br>cause n.原因，事业，动机 vt.引起，导致<br>vocation n.职业，天命<br>carceer n.职业 adj.作为毕业职业的(car车)<br>calling n.职业，呼喊，邀请 v.通电话，认为<br>call v.打电话给，呼唤，喊叫 n.理由，要求 Call of duty 使命召唤<br>recall vt.叫回，召回 n.罢免<br>up-to-date adj.现代的<br>modern adj.现代的，近代的 n.现代人<br>modernization n.现代化<br>contemporary adj.当代的 n.同龄人<br>remporary adj.短暂的，临时的 n.临时工<br>tempo n.拍子<br>temper n.脾气 v.调和<br>date n.约会，日期 vt.过时 vt&amp;vi.与人约会<br>late adj.迟到的 adv.最近地<br>function n.作用，功能<br>punctual adj.准时的<br>punch n.拳头 v.用拳猛击<br>prompt adj.迅速的 v.促使,提示,导致 n.激励 adv.准时地<br>renew vt.使更新，补充 vi.重申<br>novel n.小说 adj.新奇的 (nov-new ate-动词v)<br>innovate vi.改革，创新 vi.引入新事物<br>innovation n.改革，创新，新发明<br>renovate vt.翻新，修复，更新<br>prosperous adj.繁荣的，成功的(pro-前 sper-breath呼吸 ous形缀)<br>creative adj.有创造力的<br>creature n.人，生物，动物，工具<br>generation n.产生，一代人，时代<br>generator n.生产者，发电机<br>gene n.基因<br>genius n.天才，天赋<br>gene niu(基因 牛！！)<br>generate vt.形成，造成<br>general adj.普通的，大致的 n.一般，常规<br>generally adv.一般地，普遍地，广泛地<br>split on (在…上观点不同)<br>personal adj.个人的 n.人事栏<br>private 私人的<br>personnel n.全体员工，人事部<br>personality n.人格，个性，人物<br>character n.性格，角色，特点 vt.使具有特征<br>characteristic adj.特有的，独特的 n.特征<br>staff n.全体职员 adj.职员的<br>clerk n.书记员，职员 vi.当职员<br>panel n.仪表板，座谈小组 （盘 围着坐）<br>companion n.同伴 vt.陪伴，同行<br>company 陪伴，公司<br>colleague n.同事,同僚<br>league n.联盟，社团<br>federal adj.联邦的<br>relate vt.使…有联系<br>relation n.联系，关系<br>relationship n.关系，浪漫关系<br>relativity n.相对性<br>relative adj.相关的 n.亲属，相关物<br>relevant adj.有关的，确切的<br>graduate n.毕业生<br>undergraduate n.大学生<br>paper n.纸，论文，文章 vt&amp;vi.贴钱<br>theory n.理论，原理，学说(the story去掉s)<br>theoretical adj.理论的，假设的<br>paragraph n.段落 vt.将…分段<br>essay n.散文，随笔，尝试<br>culture vt.培植，培养<br>cultivate vt.耕作，教养，栽培<br>nurture vt.培育，养育（Nurse护士+culture）<br>foster v.培养，鼓励 adj.寄养的<br>supercalifragilisticexpialidocious adj. 精彩的，非常棒的<br>movement n.运动，活动，乐章<br>touching adj.感人的，动人的<br>care facility 疗养院<br>remove vt.去除，脱逃 vi.移居，迁移<br>removal n.除去，免职，迁移(al-n&#x2F;adj    se&#x2F;ve结尾的-sal,val surrive-&gt;surrival)<br>auto-self<br>automobile n.汽车 v.开汽车<br>vehicle n.车辆，媒介物，传播媒介<br>use A to do B(使用…去干…)<br>be used as(for sth&#x2F;to do sth)(被用作…去干…)<br>automatic adj.自动的，无意识的<br>mobile adj.可移动的 n.手机，风铃<br>emotion n.情绪，情感，感动<br>emotional adj.情绪的<br>(support)promote vt.促进，推进，提升，促销<br>proposition n.命题<br>destiny n.命运<br>motivate vt.刺激（move av&#x3D;看完av就动起来了）<br>remote adj.(时间上)遥远的 n.遥控器 vt.使…向远方延伸<br>motive n.动机，vt.促使<br>movable adj.可移动的 n.动产<br>loose adj.松的<br>loosen vt.放松，解开 vi.变松<br>unfasten v.松开，解开<br>swift adj.敏捷的，迅速的<br>rapid adj.快速的<br>popularity n.流行，名气，通俗性<br>boom v.提升<br>current adj.现在的，流行的 n.电流，趋势<br>currency n.货币，流通<br>section n.部分，部门<br>fract n.部分 vt.打破<br>second n.秒 adj.第二的 vt.支持 adv.第二的<br>secondary adj.第二的<br>insect n.虫，卑鄙的人<br>sexual adj.性的<br>proposed v.提倡（pro-前 pose-姿势 往前摆姿势）<br>knowledge n.了解，知识，理解<br>fame n.名声，名望 fame and fortune 名利<br>reputation n.名气，名声<br>prominent adj.著名的，突出的 （min-ming（名声） pro-在前  名声在前-出名）<br>eminent adj.显赫的（min-ming（名声） e-out在外  名声在外-出名）<br>monotonous adj.单调的，枯燥无味的(mo no ton ous  ton-tone-语调 mon-one)<br>dull adj.迟钝的，呆滞的 v.缓和，减轻(堵…)<br>tedious adj.冗长乏味的 （“踢地面”）<br>bore v.令人厌烦<br>interest n.利息，爱好，兴趣，利益<br>benefit n.好处，利益，津贴 vt.有益于 on one’s behalf 为了…的利益<br>beneficial adj.有利的<br>welfare n.福利，繁荣，幸福 (well，fare n.费用)<br>profit n.利润 vt.有益的<br>profitable adj.有利可图，有益的<br>reserve n.储存 vt.储备 vi.预定<br>observe vt.vi 观察，研究<br>observation n.观察,评论<br>observer n.观察员，遵守者<br>perserve vt.vi 保护，保持 n.蜜饯<br>deserve vt.vi 值得，应得，应受<br>conserve vt.保护，保存，保藏（Con-全部 serve-keep）<br>conservative adj.保守的<br>conservation n.保护，保存<br>reservoir n.蓄水池，贮液器，(re-again serv-keep bir-n.）<br>used adj.二手的<br>useless adj.无用的<br>vain adj.徒劳的，无结果的，无用的<br>usage n.用法，使用，惯例<br>abuse n.滥用 vt.滥用<br>utilize vt.利用，使用<br>utility n.公用事业，效用，效果<br>exploit vt.开拓，剥削，开采 n.功绩(ex-out) 海关<br>customer n.顾客，主顾<br>custom n.习惯，海关<br>accustomed adj.习惯的，通常的，适应的<br>convention n.会议，惯例(com-all vent-go&#x2F;come)<br>conventional adj.传统的<br>habit n.习惯，气质 给…穿衣服<br>habitual adj.习惯的<br>inhabitant n.居民，住户<br>distraction n.分心，扰乱<br>digestion n.消化<br>factor n.因素<br>determined n.决定，因素<br>contribute to&#x3D;bring about&#x3D;lead to导致<br>place n.地方，职位，座位 v.放置<br>displace vt.移动，移走，取代 （dis&#x3D;not place-放）<br>displaced person&#x3D;refugee n.难民<br>replace vt.代替<br>form n.形状 v.形成<br>inform v.通知，告发<br>former n.模型，样板 adj.以前的<br>form n.表格，方式，形状 v.形成<br>transform v.改变，变换<br>transformation n.变化<br>transformer n.变压器 促使变化的人&#x2F;物<br>formula n.公式，准则&#x3D;rude<br>prospects n.前景 (pro-forward spect-see 往前看)<br>wages n.工资<br>uniform n.制服 adj.形状一样的<br>formation n.形成，构成<br>perform vt&amp;vi 执行，履行，表演<br>performance n.表现，表演，绩效<br>formal adj.正规的，方式上的<br>reform n.改革 改良<br>platform n.平台，站台<br>conform v.符合，遵照 adj.一致的 conform to—服从<br>campus n.校园，校区<br>civilize v.教化，使文明 civil-cultivate(文明)<br>civilization n.文明<br>tuition n.学费，讲授(交完了学费，整个人很颓废tui)<br>scholar n.学者<br>scholarship n.奖学金<br>tutor n.导师，家庭教师<br>economy n.经济，节约<br>economic adj.经济的 经济学的<br>economical adj.经济的 节约的<br>economically adv.经济地<br>economics n.经济学，经济<br>commerc n.商务，商业<br>commercial adj.商业的，贸易的<br>goodness n.仁慈，善良<br>trade n.贸易<br>firm n.公司 adj.坚定的<br>market n.交易，市集<br>marketing n.销售，经销，市场营销<br>mercy n.怜悯<br>mercifull adj.仁慈的，宽恕的<br>merchant n.商人，零售 (ant-人)<br>monetary adj.货币的 金钱的(mone-money)<br>fiscal adj.财政上的，会计的 n.财政年度<br>financial adj.金融的<br>finance n.金融，资金<br>Fiance n.未婚夫<br>given prep.考虑到<br>meltdown n.崩溃<br>finance v.投资<br>loan n.贷款 v.借<br>tip n.小费 v.倾斜<br>private adj.私有的，私人的，秘密的<br>privilege n.特权 vt.给与…特权（priv私有的 i  lege法律）<br>privacy 隐私<br>legal n.合法的 法律的<br>legacy n.遗产，遗赠<br>legitimate adj.合法的，合理的，正规的 vt.使合法<br>satire n.讽刺（sa傻 tire疲惫 疲倦了你的傻）<br>inherit vt&amp;vi. 继承（Her-继承 her女人肚子里有个it它）<br>heritage n.遗产，传统(cultural heritage)<br>legislate vt&amp;vi. 立法，制定法律(leg-law)<br>legislation n.立法，制定法律<br>lawsuit n.诉讼 Sue v.控告<br>court n.法庭，院子<br>prison n.鉴于，入狱<br>prisoner n.囚犯，犯人，俘虏<br>jail n.监狱，拘留所<br>jury n.陪审团 adj.应急的<br>council n.委员会<br>counsel 顾问&#x3D;counselor（se&#x3D;色）<br>fully adv.充分地<br>occupied adj.已占用的，无空闲的<br>occupy vt.占领，使用，住在…<br>occupation n.职业，占有<br>complete adj.完整的，完成的<br>completely adv.完全地，完全<br>tidy adj.整洁的，整齐的<br>utter vt.说，讲 adj.彻底的<br>gross adj.总的，粗俗的 n.总额<br>absolutely adv.绝对地，完全地<br>absolute adj.绝对的 n.绝对<br>respond vt&amp;vi. 回答，响应<br>response n.反应，回答，答复<br>responsibility n.责任，责任感，责任心<br>feedback n.反馈，反应（feed喂吃 back回来）<br>corresponding adj.相当的，对应的，通信的<br>correspond vi.相应的<br>responsible adj.负有责任的<br>liable adj.有责任的,有倾向的<br>liability n.责任，倾向<br>accountable adj.负有责任的<br>account n.账 vt&amp;vi.解释，导致 account for&#x3D;解释<br>roughly adj.粗略的<br>consideration n.考虑，关心，报酬<br>considerable adj.相当大&#x2F;多的<br>considerate adj.体贴的，深思熟虑的<br>thoughtful adj.体贴的，沉思的<br>handsome adj.英俊的，美观的，大方的<br>counter n.计数器，柜台 adj.相反的(count数 er)<br>encounter vt.遭遇，不期而遇，对抗 n.相遇，碰见 （en-使 使你在柜台相遇）<br>counterbalance vt.使平衡，抵消<br>contrary adj.相反的，反对的<br>contradict vt&amp;vi.反驳，否认(contra 相反的 dict&#x3D;speak说)<br>By contrast相比（苹果和华为）compare对比（苹果和苹果）<br>quantity n.数量，数目(quan-全）<br>metropolis n.大都市，首府 metro-地铁（上海）<br>metropolitan adj.大都会的<br>county n.县，郡<br>state n.洲（省）<br>county n.县(地区)<br>city n.市<br>town n.小镇子<br>village n.村子<br>province n.省份<br>urban adj.都市的（urb&#x3D;hrb&#x3D;哈尔滨）<br>rural adj.乡下的，农村的，田园的<br>downtown n.市中心<br>company n.公司，陪伴<br>corporation n.公司，团体<br>accompany v.陪伴，陪同，附加，补充<br>incorporate v.包含，组成公司<br>firm n.公司 adj.坚固的<br>confirm vt.使巩固(con&#x3D;all）<br>occasion n.场合，机会，理由 vt.惹起<br>occasional adj.偶尔的，不经常的<br>casual adj.随便的，偶然的  n.临时工人<br>casualty n.伤亡人数，事故，受害者<br>probable adj.可能的<br>probability n.可能性，几率<br>feasible adj.可行的，可用的(fras-&gt;fect-&gt;do能够做的)<br>numerous adj.很多的，数不清的<br>number n.数量，数字，号码 v.标号<br>existence v.存在<br>inherently adv.固有的<br>plenty n.充裕，adj.大量的<br>generous adj.慷慨的，大方的<br>abundant adj.充足的，大量的<br>abandon v.放弃 n.放纵<br>blanket n.毯子 adj.总括的<br>empty adj.空的<br>bare adj.光秃秃的<br>rare adj.罕见的，特殊的<br>hardly adv.几乎不<br>scarcely adv.几乎不，简直不<br>scarce adj.稀缺的<br>seldom adv.难得，很少，罕见<br>naked adj.裸体的<br>vacant adj.空缺的 (vac&#x3D;empty)<br>vacuum n.真空，空白，空虚，清洁<br>vacation n.假期，休假 vi.度假<br>spare v.节省 adj.多余的<br>curb n.抑制，限制<br>block n.街区 vt.阻止<br>check v.检查，制止<br>guideline n.指导方针<br>敏辉<br>bill n.账单<br>menu n.菜单，菜肴<br>distrust vt&amp;n.不信任，猜疑<br>undoubtavle adj.不容置疑的<br>doubtless adv.无疑地 adj.无疑的<br>change v.改变,替换<br>roll v.滚动 n.名册<br>enroll v.注册，招收，登记<br>register n.记录 v.登记，注册<br>shift vt&amp;vi.改变，换挡 n.移动<br>switch n.开关，转换 vt&amp;vi.转换，改变<br>alter vt&amp;vi. 改变，更改，改造<br>vary vt&amp;vi 变化，使不同 ！&#x3D;very<br>variation n.变化，变动，演变<br>varety n.多样，多样化，种类<br>variable adj.可变的，变化的 n.变量<br>various adj.各种各样的，多方面的<br>countless adj.数不胜数的，无数的<br>exchange n.交换 v.兑换，交换<br>bargain n.便宜货 v.讨价还价<br>beg vt&amp;vi.乞讨<br>modify vy&amp;vi.修改 (ify-v. mod-mid中间)<br>embrace v.拥抱<br>ingredient n.原料<br>choice adj.上等的<br>optional adj.可选择的<br>option n.选项<br>alternative adj.替代的<br>depression adj.沮丧的<br>conclude vt&amp;vi.推断，结束，终止<br>exclude vt.排斥，排除<br>exclusively adv.唯一地，专门地<br>embrace vt&amp;vi.拥抱<br>preclude vt.排除，妨碍，阻止(pre-前 clude-close关 向前关上)<br>survey v.n.调查<br>emergency n.突发情况<br>shortage n.缺少，不足，缺点<br>shortly adv.立刻，马上；简单地<br>dearth n.缺乏，稀少 death死<br>famine n.饥荒，饥饿<br>starve v.饿<br>starvation n.饥饿，饿死，绝食<br>flood n.洪水 vt&amp;vi.涌出，淹没(flo&#x3D;flu-流)<br>present n.礼物 v.赠送 adj.现在的，出席的<br>represent vt&amp;vi.表现，象征，代表<br>representative n.代表<br>presently adv.目前的，不久，马上<br>consent n.同意，准许 v.同意，允许 consent to do sth&#x3D;agree with sth&#x3D;approve<br>fantastic adj.极好的<br>fantasy n.晴天<br>fancy v.喜欢<br>awesome adj.令人敬畏的 (awe&#x3D;敬畏)<br>excellent adj.优秀的，卓越的，杰出的<br>brilliant adj.才华横溢，明亮的<br>master n.大师 vt.精通，熟练<br>doctor n.博士，医生<br>bachelor n.学士，单身汉(学士毕业后就 白扯了 ba che lor)<br>degree n.程度，学位<br>associate n.联合<br>programs n.程序，课程 v.make a plan<br>downward adj.向下的<br>upward adj.向上的<br>inward adj.向内的<br>outward adj.向外的<br>internal adj.内部的 n.内脏<br>interior n.内部 n.内部的<br>inner adj.内部的，内心的<br>external adj.外面的 n.外部<br>exterior adj.外面的 n.外部<br>proper adj.合适的<br>altitude n.高度<br>highway n.公路，途径，方法&#x3D;manner means method<br>hierarchy n.分层，层次，等级制度<br>Archetype n.原型<br>Architecture n.建筑学<br>Architectural adj.建筑学的<br>huge adj.巨大的<br>gigantic adj.巨大的，庞大的<br>giant n.巨人<br>maximum n.最大的量<br>minimum n.最小量<br>wealth n.财产，财富，丰富<br>wealthy adj.富有的 n.富人<br>fit vt&amp;vi.合适 adj.合适的 n.匹配<br>fitness n.健康，适当 (ness-抽名)<br>sound adj.健全的<br>reinforce v.加固，强化<br>military n.军队的<br>enforce vt.执行，加强<br>force n.武力，vt.强迫<br>oblige v.强制，强迫<br>asset n.资产，财产<br>virtue n.美德，德行<br>virtually adv.实际上<br>merit n.价值，优点<br>demerit n.缺点，短处<br>assess v.评估<br>take charge 负责<br>percent n.百分比<br>percentage n.利润，百分比<br>decade n.十年<br>dozen n.十二个<br>October n.十月<br>fortnight n.十四天，两星期<br>gap n.缺口 vt.有缺口<br>crack v.破裂，打开 n.裂缝 adj.训练有素<br>ditch n.沟渠 v.抛弃，摆脱<br>interval n.间隔<br>payment n.付款，支付，偿还<br>render v.给予,递交<br>surrender v.n.投降<br>provide vt&amp;vi.提供<br>provision n.规定，供应<br>differ vi.不同，不同意<br>indifferent adj.漠不关心的<br>offering n.提议，课程，贡品<br>infer v.推断，猜想，推理<br>inference n.推理，推断<br>confer v.授予，比较(con&#x3D;all&#x3D;together)<br>authority n.权力，权威<br>conference n.会议，讨论（正式的）<br>reference n.参考，参考书<br>preference n.偏爱，优先权<br>preferable adj.更好的，更胜一筹<br>prefer A to B  相比b更喜欢a<br>perfer to do a rather than do b  要做a而不做b<br>permission v.许可使推迟<br>defer v.使推迟<br>transfer n.转移<br>convert v.转变 vert&#x3D;turn转~~<br>interfere vi.干涉，干预<br>interference n.干涉，冲突<br>fertilizer n.肥料<br>fertile adj.肥沃的<br>circumference n.胸围，周围 (circum-圈)<br>bankrupt adj.破产的，倒闭的 (rupt&#x3D;break)<br>interrupt vt&amp;vi.打断，截断<br>rupture n.断裂<br>eruption n.喷发，爆发<br>corruption n.腐败，贪污(cor&#x3D;all全 rupt&#x3D;break 全都破了&#x3D;腐败)<br>decay vt&amp;vi.腐烂<br>academic adj.学院的<br>academy n.学院<br>leading adj.主要的<br>prime adj.最好的，最初的 n.精华<br>primary adj.主要的<br>primarily adv.首先，主要地<br>primitive adj.原始的，发展水平低的<br>elementary adj.初等，基本的<br>element n.元素，要素<br>preliminary adj.初步的，初级的(per&#x3D;前 limir&#x3D;limit限制)<br>chief adj.主要的 n.首领<br>principal adj.主要的 n.负责人<br>principle n.原理，原则，根源<br>mainland adj.大陆的 n.大陆<br>remain n.剩余的 vi.保持<br>remaining adj.剩下的<br>remains n.遗迹<br>maintain vt.保持，保养<br>maintenance n.维护，维修<br>obtain v.获得，得到<br>breed v.产生，导致 n.种类，类型<br>seed n.种子，子孙 v.播种<br>sow vt&amp;vi.播种子 n.母猪<br>humane adj.仁爱的，慈善的<br>humanity n.人性，人道<br>humble adj.谦逊的，简陋的<br>humor n.幽默<br>transparent adj.透明的，清澈的<br>apparent adj.容易看见的，显然的<br>pardon v.原谅 （par对）<br>pair n.一副<br>despair n.绝望（de下）<br>isolate v.使隔离<br>stiff adj.僵硬的，严厉的(i人 ff栏杆 &#x3D;&#x3D;站岗)<br>still adj.寂静的<br>simplify vt.简化<br>simplicity n.简单，朴素，天真<br>leisure n.闲暇，空闲时间<br>hardware n.计算机硬件，五金器具<br>harden v.使硬化<br>membership n.会员资格，会员身份<br>memorial n.纪念碑 adj.纪念的<br>monument n.纪念碑，遗迹，遗址<br>momentous adj.重要的<br>hatred n.仇恨，憎恨<br>spite n.怨恨，恶意，恶事<br>envy n.羡慕，妒忌 vt.感到妒忌<br>jealous adj.妒忌的，吃醋的<br>envious adj.羡慕的，妒忌的<br>likewise adv.同样地<br>likelihood n.可能性<br>childhood n.童年<br>manhood n.男人味<br>womanhood n.女人味<br>Duct-lead<br>conduct vt&amp;vi.传导，带领，引导 n.行为，举止<br>conductor n.售票员，导体，指挥<br>semiconductor n.半导体<br>negotiation n.谈判<br>recommend v.推荐，建议<br>discussion n.讨论<br>conversation n.交谈<br>tend to do 倾向于…<br>tendency n.趋势<br>intend to do 打算做…<br>monopolize v.插嘴（一个人要它mon&#x3D;one）<br>conversion n.变换，转变<br>diverse adj.不同的，多种多样的(分开转~~)<br>random adj.随机的<br>conversely adv.反过来<br>reverse vt&amp;vi.翻转 adj.颠倒的<br>universal adj.普遍的，一般的<br>universe n.宇宙<br>version n.版本，译文<br>adverse adj.不利的，有害的(ad-to verse&#x3D;turn)<br>adversity n.逆境，不幸，灾难<br>inverse adj.相反的，逆向的<br>belief n.信任<br>convince vt.说服，使相信<br>convince sb of &#x3D; make sb sure 使…确信<br>unconvince adj.可疑的<br>trustworthy adj.值得信赖的<br>reliability n.可靠<br>credible adj.可信的，可靠的 (cre-credit信誉)<br>credit n.学分，信用<br>concrete adj.具体的，有形的 n.混凝土<br>collective adj.集体的，共同的<br>collectivism n.集体主义<br>intellectual adj.智力的 n.知识分子<br>intelligent adj.聪明的，有智力的<br>intelligence n.智力<br>wit n.机智，智慧<br>witness n.目击者<br>smart adj.聪明的，敏捷的<br>clever adj.灵巧的，聪明的<br>bright adj.明亮的，聪明的<br>elector n.选举人<br>neglect v.忽视，忽略<br>neglectful adj.疏忽的<br>ignorant adj.无知的<br>lecture n.演讲，训斥<br>dialect n.方言，语调<br>pick up 接送<br>mean v.意味着 adj.吝啬的 n.平均数<br>nasty adj.肮脏的，下流的<br>disgust n.方案，嫌恶<br>pollution n.污染<br>contaminate v.弄脏，污染<br>soil n.泥土，土地，国土 v.弄脏，侮辱<br>cruelty n.残酷，残忍<br>cruel adj.残酷的<br>meantime&#x3D;meanwhile 同时<br>direct adj.直接的<br>director n.导演，主任，董事<br>directly adv.直接地<br>guide v.指导，影响 n.导游<br>guidance n.导航，指导，引导<br>indirect adj.间接的<br>horizon n.地平线，范围，界限<br>horizontal adj.水平的，地平线<br>erect v.使直立 (e&#x3D;out rect&#x3D;straight)<br>rectify v.改正，矫正<br>rectification n.改正，矫正<br>manner n.方式，方法<br>remind sb of sth&#x2F;doing sth提醒某人某事<br>remind sb to do sth<br>In response 作为回应<br>mood n.心情，语气<br>ideal adj.理想的 n.典范，理想<br>idol n.偶像<br>fetish n.迷信，崇拜物，偶像(f pet ish 宠物猫 爱吃鱼)<br>idealist n.理想主义<br>idealism n.唯心主义<br>spiritualism n.唯心论<br>material n.材料，素材 adj.物质的<br>materialism n.唯物主义<br>stuff n.材料，原料 v.塞满<br>part n.部分，零件 v.分开<br>particle n.微利，颗粒<br>partial adj.部分的，偏袒的<br>department n.部门，系<br>departure n.离开<br>bureau n.局，办事处<br>farewell n.告别<br>party n.当事人<br>partner n.伙伴<br>participate v.参加某事<br>partly adv.部分地<br>partner n.伙伴<br>port n.港口<br>passport n.护照，通行证<br>portion n.一部分<br>import n.输入<br>important adj.重要的<br>importance n.重要的<br>core n.中心，核心<br>nuclear adj.原子核的<br>report n.报告<br>reporter n.记者<br>export vt&amp;vi.输出，出口<br>transport v.运送，运输<br>traffic n.交通 v.交易<br>portable adj.轻便的<br>proportion n.比例<br>undergo vt.经历，遭受<br>undertake vt.承诺，承担<br>tolerate vt.人手<br>tolerance n.宽容，限度<br>bear v.承担 n.熊<br>patience n.忍耐，耐心<br>patient adj.有耐性的 n.病人<br>endure v.忍耐，持续，持久<br>duration n.持续，期间<br>durable adj.持久的，耐用的（able&#x3D;adj）<br>dome n.圆屋顶<br>domesti adj.国内的 n.佣人<br>domain n.范围，领土（do&#x3D;家 main&#x3D;全部）<br>dominate v.支配，影响，占有优势 (do&#x3D;家 in里面 ate&#x3D;v.动词)<br>kingdom n.王国，界<br>emperor n.皇帝，君主<br>salary n.薪水，薪金<br>earn one’s life 谋生<br>sum-to take(拿)<br>consume v.消耗，耗尽（con&#x3D;全 sum&#x3D;拿 全都去拿）<br>consumption n.消费<br>resume v.继续 n.简历（再次拿出来）<br>assume v.承担，假定，呈现 （ass&#x3D;to 去把ta拿出来）<br>assumption n.承担，假定，假设<br>to sum up 去总结<br>summary n.概要<br>summarize v.总结，概述<br>priceless adj.无价的<br>fee n.费，小费<br>toll n.伤亡人数<br>price n.代价，价格<br>charge v.控诉，使充电 n.指控<br>bring a charge against sb 正式控告某人罪行<br>have&#x2F;take charge of sth 对某事物负责<br>charge sb with sth &#x3D; accuse sb of 指控<br>charge sth for sth 要价<br>charge sth up to sb 把…记在我账上<br>govern-rule 规则<br>govern v.治理<br>governor n.主管人员<br>administration n.管理，实行<br>administrative adj.管理的，行政的<br>congress n.国会<br>discharge v.放出<br>parliament n.议会，国会<br>ruler n.统治者，尺<br>ruling n.裁定<br>code n.法典，行为准则<br>oversee v.监督，俯瞰<br>gram-to write<br>program n.节目，程序<br>grammar n.语法，语法书<br>grammatical adj.语法上的<br>diagram n.图表<br>telegram n.电报<br>telephone n.电话<br>telescope n.望远镜<br>microphone n.话筒，扩音器，麦克风<br>compute v.计算，估算<br>figure n.人物，数字，身材 v.估计<br>figure it out 解决<br>calculate vt&amp;vi.计算，估计<br>calculator n.计算器<br>depandent adj.依赖的<br>independence n.独立，自主<br>rely v.依靠<br>lean vt&amp;vi. 倾斜 adj.瘦的(slim)<br>reliable adj.可靠的，可信赖的<br>reliability n.可靠性<br>spit-呼吸<br>breathe v.呼吸，活着，生存<br>conspiracy n.阴谋(com&#x3D;all spir&#x3D;breath acy&#x3D;n. 一起呼吸，共谋)<br>plot v.密谋 n.地基<br>inspire v.激励，鼓舞<br>inspiration n.灵感，吸气<br>desperate adj.绝望的 (de下 sper&#x3D;spir呼吸 向下呼吸adj)<br>make the most of 尽量利用<br>stimulus n.刺激物<br>stimulate v.刺激，激励，鼓舞<br>spur v.鞭策，鼓励<br>sting v.刺痛，刺激<br>instinct n.本能，天性，冲动<br>cover v.遮盖，涉及 n.封面，掩护<br>recover v.恢复，找回<br>recovery n.恢复，复原<br>discover v.发现，碰见<br>discovery n.发现，发觉<br>uncover v.揭露<br>unveil v.揭露<br>disclose v.揭露，公开（不 关闭）<br>reveal n.解释 vt.揭露<br>conceal v.隐藏，遮住(ceal&#x3D;veil)<br>bury v.埋葬<br>liber-labor-free<br>liberate v.解放，释放<br>liberal n.自由主义者 adj.慷慨的<br>liberty n.自由<br>deliberate adj.故意的，深思熟虑的(de加强 liber-free自由 我故意的加强程度给你自由)<br>fact n.事实，真想<br>factor n.因素，代理人<br>factory n.工厂，制造厂<br>facility n.设备，容易<br>Infect vt.使受影响，感染，侵染<br>perfect nonsense,rubbish 纯粹胡说八道，一派胡言<br>affect vt.影响 n.情感<br>affection n.喜爱，情感<br>effect n. 效果，印象<br>effective adj.有效的<br>efficient adj.有效率的<br>efficiency n.功效，效率<br>fiction n.小说<br>artificial adj.人造的，人工的<br>certificate n.证明书，文凭<br>certify v.证实<br>certain adj.确实的，确信的<br>superficial adj.肤浅的<br>magnificant adj.壮丽的<br>officer n.军官，警官<br>official adj.正式的<br>authority n.权威，权力<br>sufficient adj.充足的，足够的<br>visibility adv.可视度，可见度<br>opulent adj.丰富的<br>operate vt&amp;vi.操作，运营，运转<br>operation n.手术，操作，经营<br>operator n.操作员<br>operational adj.操作的<br>opera n.歌剧<br>cooperate v.合作，配合<br>collaboration n.合作，勾结，协作(co&#x3D;together labor&#x3D;劳作)<br>candle n.蜡烛，珠光<br>candidate n.候选人<br>candid adj.坦白的，公正的<br>kindle vt&amp;vi.点燃<br>lamp n.灯，照射灯<br>lighten v.减轻，点亮<br>enlighten v.启发，开导，启蒙<br>delight n.快乐，高兴<br>lighting n.照明，点火<br>solar adj.太阳的<br>lunar adj.月球的（露娜）<br>calender n.日历<br>elaborate v.详细制定 adj.精心制作的(ate-&gt;v&#x2F;adj)<br>careless adj.粗心的，漫不经心的<br>pressure n.压力(ure-抽象名词 nature自然)<br>stress n.压力，强调，重力<br>emphasize v.强调，着重<br>express v.表达，表示<br>expression n.表现，表情<br>depress v.使沮丧<br>depression n.沮丧，不景气<br>period n.时期，句号，学时<br>session n.开会，会议，集会<br>reasonable adj.合理的<br>sake n.缘故，理由<br>rational adj.理性的，合理的<br>sensible adj.明智的<br>sensitive adj.敏感的<br>sensitivity n.敏感<br>nonsense n.胡闹，废话<br>realize v.实现，了解<br>reality n.事实<br>actuality n.现实<br>genuine adj.真正的，坦率的<br>sincere adj.真诚的<br>ruth n.怜悯，悲哀<br>fake v.伪造 adj.假的<br>compassion n.同情<br>imita v.模仿，效仿<br>imitate v.模仿<br>imitation n.模仿<br>realm n.王国，领域<br>realty n.不动产<br>property n.特性<br>proper adj.适当的，相当的<br>improper adj.不合适的<br>suitable adj.合适的<br>suit n.诉讼 v.合适<br>quality n.质量，品质 adj.高品质的<br>qualify vt&amp;vi. 使具有资格<br>qualification n.资格<br>equal adj.相等的<br>equation n.等式，相等<br>equality n.平等，相等，等式<br>equivalent adj.等效的，相等的<br>minute n.分钟，瞬间<br>minus adj.减少 prep.没有<br>multiply vt&amp;vi.乘<br>multiple adj.多重的<br>rarely adv.很少的，稀少的<br>order n.秩序，命令，规则<br>disorder n.混乱，凌乱<br>orderly adj.整齐的，有秩序的<br>honest adj.诚实的，坦诚的<br>earnest adj.热心的，诚挚的，真挚的<br>loyal adj.忠贞的，忠诚的<br>loyalty n.忠诚<br>royal adj.王国的<br>commitment v.承诺<br>devotion v.奉献<br>confidence n.信心，信任<br>list n.清单，目录，斜边<br>ample adj.足够的，充足的<br>sample n.样品，榜样<br>exemplify vt.举例证明<br>instance n.情况，例子<br>particular adj.特别的，详细的<br>specify v.指定，详述<br>schedule n.时刻表 (s 死 che 车 dule 堵了)<br>timetable n.计划<br>trick n.恶作剧 v.哄骗<br>tricky adj.狡猾的<br>magic n.魔法<br>magical adj.魔术的<br>spell n.咒语<br>trap v.诱骗<br>strategy n.策略，战略<br>design vt&amp;vi.设计，绘制<br>layout n.布局，安排 (躺 在外面)<br>sign n.迹象，符号，手势 vt&amp;vi.签名<br>symbol n.符号，象征，标志<br>symbolize v.象征<br>symbolic adj.象征意义<br>label n.标签，符号<br>ruler n.统治者<br>brand n.牌子，商标<br>signal n.信号，暗号  v.发信<br>significance n.重要性<br>signature n.签名，署名<br>resign v.辞职，放弃，屈从<br>assign v.分派，选派，分配<br>assignment n.分配，任务<br>loc-place<br>local adj.局部的<br>location n.定位，位置<br>locate v.定位，定居<br>site n.遗址<br>sightseeing n.观光<br>allocate v.分配，分派<br>allocation n.分配，配置，安置<br>distribute v.分配，散发<br>distribution n.分布，分配<br>attribute v.认为…是 Attribute a to b 把a归因于b<br>contribute vt&amp;vi.捐赠<br>devote vt.奉献 devote oneself to doing 致力于<br>sacrifice n.牺牲，献祭<br>vote v.投票<br>veto v.否决<br>ballot n.投票，投票权 (bal&#x3D;球 lot&#x3D;多)<br>ballet n.芭蕾舞<br>surroundings n.环境<br>situation n.情况，局面，形式<br>environment n.环境，外界<br>environmentalist n.环保人士<br>setting n.环境，镶嵌，装置<br>ground n.地面，基础<br>condition n.状态，环境 on condition that…条件是…<br>phenomenon n.现象，事件<br>phenomena n.现象<br>never永不<br>ever adv.永远，曾经<br>never adv.从不，一点也不<br>nevertheless adv.不过，然而<br>forever adv.永远<br>everlasting adj.永久的，永恒的（ever曾经 lasting持续）<br>permanent adj.永久性的，永恒的<br>perpetual adj.永久的，不断的，无期限的（per&#x3D;always  pet&#x3D;宠物 ual&#x3D;adj 你家宠物一直挠你）<br>eternal adj.永生的，永恒的，不朽的 （e&#x3D;out ter&#x3D;term&#x3D;end期限 期限之外）<br>constant n.常量 adj.不断的，持续的，永恒的<br>promise v.许诺，承诺<br>evil adj.邪恶的<br>devil n.魔鬼<br>select the essence ward of the evil spirit 取其精华去其糟粕<br>ghost n.幽灵<br>dragon n.龙，龙船<br>zombie n.僵尸<br>vision n.视力，视觉<br>visible adj.看得见的，明显的<br>invisible adj.看不见的<br>revise v.修订，修正&#x3D;change<br>visual adj.看得见的，光学的，视力的<br>visualize v.形象化，想象<br>devise v.设计，相处，发明，策划&#x3D;invent&#x3D;发明<br>advise v.通知，建议，报告<br>supervise vt&amp;vi.监督，屏幕 v.监控<br>previous adj.先前的，以前的<br>prior adj.优先的，在…之前<br>preceding adj.在先的<br>precede v.领先，优先<br>anticipate v.遇见，预料，预感（anti-反对 cip-take）<br>await v.等待，等候<br>unexpected adj.意外的<br>expectation n.预期，期待<br>suspect v.猜疑，怀疑<br>suspicion n.怀疑，疑心<br>suspicious adj.可疑的<br>despise v.鄙视，看不起<br>perspective n.透镜，望远镜<br>aspect n.方面，方位，方向<br>prospect n.前景，期望<br>prosperous adj.繁荣的，富裕的(pro 向前 sper 呼吸 ous&#x3D;adj.)<br>prosperity n.繁荣，成功<br>flourish v.繁荣，活跃<br>thrive v.茁壮成长，兴盛<br>harmony n.和谐，协调，一致    In harmony with 与…和谐<br>harmoniou adj.协调的，和谐的<br>inspect v.视察，检查，检验<br>respective adj.各自的<br>respectively adv.各自地<br>respect v.尊重<br>regard vt&amp;vi. 认为，尊敬<br>regardless adj.adv. 不顾后果<br>worship v.崇拜，朝拜（wor哇 ship船）<br>dishonor n.侮辱，丢脸<br>honorable adj.可敬的<br>esteem vt.尊敬（e&#x3D;out sr&#x3D;stand ee&#x3D;see 在外面站着的眼镜）<br>evidence n.证据，明显<br>evident adj.明显的<br>construction n.建造物<br>structural adj.结构上的，建筑的<br>destruction n.摧毁，破坏<br>instruc vt.通知，命令，指导<br>instruction n.教课<br>train n.火车 v.训练，培养<br>practive n.练习，实践 v.练习<br>energy n.活力，精力<br>energetic adj.精力充沛的<br>vigorous adj.有力的<br>vigor n.精力<br>dynamic adj.活力的<br>obstacle n.障碍物<br>steady adj.稳定的，镇定的<br>stage n.阶段，舞台<br>phase n.阶段，相<br>withstand v.经受，承受<br>substance n.物质，材料<br>substantial adj.大量的，牢固的<br>stable adj.稳定的（st&#x3D;站 able-能 能站得住脚的）<br>stability n.稳定性，稳固<br>distant&#x3D;remote adj.遥远的，冷漠的<br>distant n.远处，距离<br>insist vt&amp;vi.坚持，坚决要求<br>persist v.坚持，存留（per&#x3D;一直 sist&#x3D;stand）<br>consist v.由…组成（con&#x3D;all sist&#x3D;stand）<br>consistent adj.一致的，连续的<br>assist&#x2F;assistance n.帮助<br>assistant n.助手<br>resort v.求助于STH n.手段&#x3D;(method means way manner)<br>resist v.抵抗，抗拒 (re&#x3D;回 sist&#x3D;stand站)<br>ancient adj.古代的，过时的<br>veteran n.经验丰富的人<br>aging n.老化，成熟化<br>ageing n.成熟，老化<br>ancestor n.祖先<br>infant&#x3D;young adj.小屁孩<br>youth n.年轻，青年<br>innocent adj.清白的，无辜的（in里 no&#x3D;not cent美分 里面一分钱都没有）<br>naive adj.天真的 （nai奶 未断奶）<br>childish adj.孩子气的，幼稚的<br>infant n.婴儿<br>item n.项目，条款<br>article n.物品，文章，论文<br>statement n.声明，陈述  state n.洲，状态 v.说<br>piece n.片，块，部分<br>element n.要素，原理<br>essential adj.必须的<br>fancy v.想象<br>restore v.归还，使恢复<br>restoration n.恢复，复位<br>cash n.现金<br>withdraw v.撤退，拿走<br>offset vt.抵消，补偿<br>cancel v.取消<br>mistress n.小三<br>delete vt&amp;vi. 删除<br>grade n.等级，年级，职别<br>upgrade v.提升，升级<br>degrade v.降级，贬低<br>class n.等级，班 v,把…归入某等级<br>classify vt.分类，归类<br>hazard v.冒险 n.危险 (读音：【孩子】喜欢冒险)<br>hazardous adj.有危险的<br>threat n.威胁，凶兆<br>threaten vt&amp;vi. 危及，恐吓<br>poison n.毒药（毒死破儿子）<br>source n.来源<br>terrorists n.恐怖主义者<br>refugees n.难民<br>disease n.疾病，不安，弊端<br>bacteria n.细菌<br>illness n.疾病<br>damage vt&amp;vi. 损害，毁坏<br>injure v.损害<br>spoil v.变质，掠夺，腐败<br>point-&gt;点<br>outlook n.前景，观点<br>appoint v.任命，委派，指定<br>appointment n.约会，任命，职位<br>disappoint v.使失望<br>mark n.记号，成绩<br>remark n.话语，观察 vt&amp;vi.评论<br>remarkable adj.显著的，卓越的<br>comment n.评论，意见，注释 （on sth）<br>noticeable adj.显而易见的，明显的<br>centre n.中心，中枢 adj.中央的<br>entrance n.进入，入口<br>entry n.进入，入场，门口<br>project v.计划 n.工程，项目<br>reject v.拒绝，抛弃，扔掉<br>injection n.注射，注射剂<br>objective adj.客观的，目标的<br>objection n.反对的，异议<br>rival n.对手，竞争者<br>opponent n.对手，敌手 adj.对立的<br>oppose v.反对<br>hostile adj.敌人的，有敌意的(host&#x3D;主人 ile&#x3D;adj形容词)<br>matter n.物质，事件 vi.要紧<br>flow-flu 流<br>flow v.流 n.流动<br>fluid n.液体<br>tide n.潮汐，趋势 tide sb over sth 帮助某人度过难关<br>liquid adj.液体的<br>liquor n.酒<br>solid n.固体<br>influence v.影响<br>impact n.影响，碰撞<br>influential adj.有影响的<br>fluent adj.流利的，流畅的<br>drift v.漂泊，流动<br>shift v.转移<br>level n.水平，水平线<br>elevator n.电梯<br>lift n.电梯 vt&amp;vi.举起<br>lever n.杠杆，工具，操作杆<br>alleviate v.减轻，缓和<br>parallel adj.平行的，类似的<br>unparalleled adj.史无前例的<br>resemble v.与…相似<br>assemble vt&amp;vi.集合，收集<br>assembly n.装配，集会<br>fault n.缺点，过错<br>defect n.瑕疵，毛病，缺点<br>vice n.恶习<br>（前缀）vice-副<br>    game-<br>race n.民族，竞争<br>racial adj.种族的<br>competition n.竞争，比赛<br>score n.得分<br>match n.比赛，火柴，对手 vt&amp;vi.使相配<br>proper&#x2F;suitable 合适<br>    act-<br>deed n.行为，行动<br>exact adj.准确的，精密的<br>contract n.合同，契约，协议<br>treaty n.条约，协议，协商<br>interaction n.互动，相互影响，合作<br>action n.行动，活动，作用<br>reaction n.反应<br>active adj.积极的，活跃的<br>trade n.贸易 vt&amp;vi.交易<br>transact v.交易，谈判<br>Tra,tract吸引<br>trail v.跟踪 n.足迹，小径<br>track n.小路 v.跟踪<br>trace n.痕迹 v.跟踪<br>subtract v.减去，扣除<br>tractor n.拖拉机<br>abstract adj.抽象的，理论上的(ab-反 stract-拉)<br>attractive adj.迷人的，有魅力的<br>glamor n.魅力，魔法 vt.迷惑<br>glamorous adj.迷人的<br>charm n.魅力，妩媚 vi.迷人<br>charming adj.迷人的<br>eloquent adj.有口才的，动人的（e&#x3D;out loq&#x3D;speak uent&#x3D;adj 往外说很多话）<br>fascinate vt.迷住 vi.迷人<br>magnetic adj.有吸引力的，磁性的<br>alluring 诱人的<br>beguiling 欺骗的，令人陶醉的 (be&#x3D;是 gui鬼&#x3D;贞子)<br>magnet n.磁铁<br>fossil n.化石 adj.化石的<br>emissions v.排放 （e-out miss-send ion-n)<br>consumption n.花费<br>burden n.负担<br>compel v.强迫，强制(com&#x3D;一起 pel&#x3D;推)<br>compelling adj.引人入胜<br>urge v.催促，推进，驱策<br>urgent adj.催促的，急迫的<br>hurry vt&amp;vi. 急促的<br>accelerate v.加快，促进<br>acceleration n.加速<br>haste n.v.匆忙，急忙<br>impel v.推动（im往里推）<br>expel v.驱逐，赶走<br>repel v.击退，抵制<br>rebel n.反叛者，叛逆者<br>retreat v.撤退，后退<br>remedy n.补救办法<br>secure adj.安全的，牢固的<br>security n.安全<br>curious adj.好奇的，奇妙的<br>curiosity n.好奇心<br>accurate adj.准确的(ac 去 照顾)<br>excursion n.远足，短途旅行<br>occur v.发生，出现，闪现<br>encounter v.遭遇，不期而遇，对抗<br>conference n.大会<br>occurrence n.发生，出现<br>profess —-v.公开表示，当教授<br>professor n.教授，讲师<br>profession n.职业，同行，信念<br>occupation n.职业，工作，占有<br>function n.功能，作用，函数 v.起作用<br>confess v.承认，坦白，悔过(con&#x3D;all fess&#x3D;speak)<br>statistics n.统计数字，统计<br>million n.百万<br>billion n.十亿<br>quote vt&amp;vi.引述<br>quotation n.引用<br>poverty n.贫穷<br>rich adj.富有的，油腻的<br>luxury n.奢侈<br>luxurious adj.豪华的<br>extravagant adj.过度的<br>dust 灰 industry工厂<br>industry n.工业，产业，勤勉<br>industrial adj.工业的<br>industriousness n.勤奋<br>diligent adj.勤奋的，勤勉的<br>diligence n.勤奋的<br>resident adj.定居的 n.居民<br>residence n.住处，住宅<br>civil adj.公民的，文明的<br>citizen n.公民，平民<br>folk n.民族 adj.民间的<br>president n.总统，校长，董事长<br>besides adv.而且，此外<br>hillside n.山腰，山坡<br>sideway n.小路，小巷<br>incident n.事件，事变<br>accidental adj.意外的<br>event n.事件，大事<br>campaign n.战役，运动<br>crisis n.危机<br>Merg–浸<br>emergency n.紧急情况<br>emerge v.出现，浮现，暴露<br>submerge vt&amp;vi.淹没，沉没<br>emerging adj.新兴的<br>illustrates n.举例说明<br>Bar，bat-木头<br>barrier n.障碍，栅栏，屏障<br>obstacle n.障碍物<br>battery n.电池<br>debate n.辩论<br>dispute vt&amp;vi. 辩论(dis&#x3D;分开 put&#x3D;放)<br>combat n.格斗，搏斗(com&#x3D;all 一群人拿着bat棒子)<br>conflict n.冲突<br>quarrel n.争吵，口角<br>argue v,坚决主张<br>argument n.论据，争论<br>angry adj.生气的<br>row n.划船，行，排，吵闹<br>annoy v.打扰，干扰<br>insult v.辱骂，凌辱，损害（in,sult&#x3D;salt往心脏里撒盐）<br>battle vt&amp;vi.争斗，与…作战<br>barrel n.桶<br>embarrass vt&amp;vi.尴尬，窘迫<br>awkward&#x2F;clumsy adj.笨拙的<br>ashamed adj.惭愧的，羞耻的<br>shy adj.害羞的<br>Water<br>waterproot adj.不透水的<br>cement n.水泥<br>dam n.水库，水坝<br>juice n.果汁<br>drain v.排水，流干<br>measure n.措施，测量<br>ensure v.确保<br>treasure n.宝藏，珍宝<br>leisure n.闲暇，悠闲<br>insure v.确保，保证<br>assure v.向…保证<br>guarantee n.担保<br>grand adj.宏大的<br>mass n.大量，大多，块<br>tremendous adj.极大的，巨大的，可怕的<br>mostly adv.大部分，主要地<br>largely adv.主要地<br>vast adj.广阔的<br>expand v.扩张<br>expansion n.扩张，扩大<br>extend vt&amp;vi.延伸，扩大<br>extension n.伸展，扩大，延期<br>extensive adj.广阔的<br>extent n.程度，长度<br>stretch v.伸展，延伸 n.张开<br>enlarge vt&amp;vi.扩大<br>enormous adj.巨大的，庞大的<br>immense adj.极大的，巨大的，浩瀚的<br>supreme adj.最高的，至高无上的<br>hold v.容纳，保留，握住，拿住<br>reach v.到达，完成<br>get v.得到，抓住 ，说服<br>spread vt&amp;vi.伸开，传播<br>grasp v.抓住<br>sieze vt&amp;vi.抓住，逮捕，捉拿，俘获<br>scratch v.擦，刮，擦痛<br>catch v.赶上<br>possess v.拥有，掌握，懂得<br>possession n.财产，拥有<br>impossible adj.不可能的，做不到的<br>possible adj.可能的<br>household n.家庭<br>accommodation n.住处，适应<br>accommodate v.容纳，使适应<br>dwelling n.居住，住处，处所<br>dormitory dorm n.宿舍<br>retain v.保持，记住<br>attain vt&amp;vi.达到，获得<br>self-achievement 自我实现<br>contain v.包含，牵制，容纳<br>container n.容器，箱，匣，集装箱<br>sustain v.维持，供养，支持<br>sustainable adj.可持续的<br>inability adv.无能<br>certain adj.某一<br>entertain v.考虑，热情款待（enter进入 tain&#x3D;hold抓）<br>stain v.弄脏，污染<br>stainless adj.纯洁的&#x3D;pure<br>spotless adj.一尘不染的<br>purchase v.购买，采购<br>chase v.n.追逐<br>deal n.交易，许多 v.处理<br>settle v.解决，安排，使定居<br>settlement n.解决，定居点<br>handle v.操作，操控<br>cope v.对抗，对付 cope with 处理<br>pursue v.追求，继续，追捕<br>sue v.控告<br>pursuit n.工作，追赶<br>hunt 寻找 look for<br>hunt vt&amp;vi.打猎 Hunt for 搜寻<br>seek v.寻找<br>skim v.略读，撇去<br>glimpse n.v.一瞥，一看<br>glance v.一瞥<br>view n.看法，风景<br>interview n.采访，面试 vt&amp;vi.面试<br>review n.v.回顾，复习，评论<br>opinion n.意见，主张，判定<br>assessment n.评估，评价<br>interpret v.解释，口译<br>interpretation n.解释，理解，说明<br>rang n.范围，类别，射程 v.延伸<br>range from A to B 从A(延伸)到B<br>strange adj.陌生的，古怪的<br>stranger n.外地人，陌生人<br>alien adj.外国的 n.外星人(alien attack)<br>Weird古怪的，奇怪的（奇葩）<br>odd adj.古怪的，剩余的<br>foreign adj.外国的<br>neighborhood n.地区<br>neighbor n.邻居<br>unconventional adj.非常规的<br>eccentric adj.古怪的，异常的(ac去 cent中心)<br>peculiar adj.古怪的，奇怪的<br>bizarre adj.离奇的，奇怪的（发音：bi za er）<br>marvelous adj.不可思议的（marve漫威）<br>miracle n.奇迹，圣迹</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/英语" style=color:#00bcd4>
                英语
            </a>
        </span>
        
    </div>

    <a href="/2022/03/27/英语/四级单词-简易版/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/27/英语/奋斗的开始——词形+词性+介词/">
        <h2>
            奋斗的开始——词形+词性+介词
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/27
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h2 id="主谓表"><a href="#主谓表" class="headerlink" title="主谓表"></a>主谓表</h2><p>主谓表的谓语一定是<span style = "color: red">“<u>系动词</u>“</span></p>
<ul>
<li>表状态：be动词（连接主语和表语，无意义，用于构成句子）</li>
<li>表感官：look，sound，taste，smell，feel (感官动词后只能加形容词)</li>
<li>表变化：get，become，turn，grow，fall</li>
<li>表保持：keep，stay，remain，stand</li>
<li>表现象：seem，appear</li>
<li>表终止或结果：prove</li>
</ul>
<h4 id="谓语"><a href="#谓语" class="headerlink" title="谓语"></a>谓语</h4><h6 id="谓语只能有一个，要么是实义动词-词组-，要么是系动词，谓语的本质就是具有时态的实义动词或者系动词"><a href="#谓语只能有一个，要么是实义动词-词组-，要么是系动词，谓语的本质就是具有时态的实义动词或者系动词" class="headerlink" title="谓语只能有一个，要么是实义动词(词组)，要么是系动词，谓语的本质就是具有时态的实义动词或者系动词"></a>谓语只能有一个，要么是<span style = "color: red">实义动词(词组)</span>，要么是<span style = "color: red">系动词</span>，谓语的本质就是具有时态的<u>实义动词</u>或者<u>系动词</u></h6><p>谓语就是具有时态(<span style = "color: grey">是表示动作发生的时间</span>)和语态(<span style = "color: grey">表明主语和谓语的关系</span>)的动词<span style = "color: grey">{实义动词(词组)、系动词}</span>&gt;，有时候主语自己不能发出动作，此时就需要使用被动语态</p>
<p>一个句子中一般只有一个谓语，我们需要把所有不作谓语的动词(词组)变成<strong>非谓语结构</strong>(V.-ing、V.-ed、V.-todo)</p>
<p>当需要动词(词组)，而又没有动词(词组)时，永远可以加be动词，并且be动词一般不译出意思</p>
<h4 id="主语"><a href="#主语" class="headerlink" title="主语"></a>主语</h4><p>动词不定式短语做主语时，常用it做形式主语，而把真正的主语不定式后置，动词不定式放在句末</p>
<p>能做主语的成分有：<strong>代词</strong>、<strong>名词(短语)<strong>、</strong>非谓语结构</strong>、<strong>从句</strong>(引导词+句子)</p>
<p>尽量多想该用什么句型或其他结构<strong>代替</strong>人称代词做主语</p>
<h6 id="主语缺失-如何填补"><a href="#主语缺失-如何填补" class="headerlink" title="主语缺失(如何填补)"></a>主语缺失(如何填补)</h6><ul>
<li>用it做形式主语 &#x3D;&gt; 和”<span style = "color: red">天气</span>、<span style = "color: red">温度</span>、<span style = "color: red">时间</span>“有关</li>
<li>Three be句型<span style = "color: grey">(只有一个谓语动词，多余的动词变为非谓语)</span> &#x3D;&gt; 需要句子带”<strong>有</strong>“的含义</li>
<li>主动语态变被动语态</li>
<li>加人称代词</li>
</ul>
<h6 id="被动语态"><a href="#被动语态" class="headerlink" title="被动语态"></a>被动语态</h6><ul>
<li><p>把<u>原主动句</u>中的<strong>宾语</strong>变为<u>被动句</u>中的<strong>主语</strong></p>
</li>
<li><p>把动词变为被动形式，即”be + 动词过去分词”，并注意其随主语的人称和单复数变化，而动词的时态则保持不变</p>
</li>
<li><p>原主动句中的主语，如需要，则放在by后面，以宾语形式出现，不需要可省略</p>
<p>(主动) 主语 + 谓语 + 宾语······</p>
<p>​            我        停        车</p>
<p>(被动) 主语 + be done(+ by + 宾语)</p>
<p>​            车         被停了</p>
</li>
<li><p><em>无被动</em></p>
<ol>
<li>系动词无被动(主系表)</li>
<li>have，own，possess含义为“拥有” 无被动</li>
<li>表示“发生”或“爆发”的动词无被动(take place，happen，occur)</li>
<li>不及物动词无被动(主谓)</li>
</ol>
</li>
</ul>
<h4 id="时态"><a href="#时态" class="headerlink" title="时态"></a>时态</h4><table>
<thead>
<tr>
<th>时态</th>
<th>一般</th>
<th>进行</th>
<th>完成</th>
<th>完成进行</th>
</tr>
</thead>
<tbody><tr>
<td>现在</td>
<td>do&#x2F;does</td>
<td>be doing</td>
<td>have&#x2F;has done</td>
<td>have&#x2F;has been doing</td>
</tr>
<tr>
<td>过去</td>
<td>did</td>
<td>was&#x2F;were doing</td>
<td>had done</td>
<td>had been doing</td>
</tr>
<tr>
<td>将来</td>
<td>will do</td>
<td>will be doing</td>
<td>will have done</td>
<td>will have been doing</td>
</tr>
<tr>
<td>过去将来</td>
<td>would do</td>
<td>would be doing</td>
<td>would have done</td>
<td>would have been doing</td>
</tr>
</tbody></table>
<p><strong>一般现在时</strong>(<span style = "color: grey">动词原形，第三人称单数</span>)</p>
<p><strong>一般过去时</strong>(<span style = "color: grey">过去式</span>)</p>
<p><strong>进行时</strong>(<span style = "color: grey">现在分词</span>)</p>
<p><strong>完成时</strong>(<span style = "color: grey">过去分词</span>)</p>
<h4 id="长难句分析"><a href="#长难句分析" class="headerlink" title="长难句分析"></a>长难句分析</h4><p>没有引导词(<span style = "color: grey">that，which，who，where</span>)就是<span style = "color: red"><strong>主句</strong></span>的谓语！！！</p>
<ol>
<li>找动词(词组)</li>
<li>词汇解释</li>
<li>只翻译句子<strong>主干</strong></li>
</ol>
<h4 id="词性的用法"><a href="#词性的用法" class="headerlink" title="词性的用法"></a>词性的用法</h4><h5 id="名词"><a href="#名词" class="headerlink" title="名词"></a>名词</h5><p><u>可数</u>：<strong>个体名词</strong>(指可以单独存在的人或物)、<strong>集体名词</strong>(指某类人或物的总称)</p>
<p><u>不可数</u>：<strong>物质名词</strong>(指物质和材料)、<strong>抽象名词</strong>(指看不见摸不着的东西)</p>
<h6 id="可数名词-C-复数"><a href="#可数名词-C-复数" class="headerlink" title="可数名词[C]复数"></a>可数名词[C]复数</h6><ol>
<li><strong>s，x，ch，sh</strong> &#x3D;&#x3D;&gt; es</li>
<li>**f，fe **&#x3D;&#x3D;&gt; ves</li>
<li><strong>辅音结尾 + y</strong> &#x3D;&#x3D;&gt; y改i + es</li>
</ol>
<h6 id="不可数名词-U-复数"><a href="#不可数名词-U-复数" class="headerlink" title="不可数名词[U]复数"></a>不可数名词[U]复数</h6><p>   数词 + 量词 + of + 不可数名词</p>
<p>​       a    sense   of      sadness</p>
<p>​       一       种             失落感</p>
<p>若无法确定名词是否可数，就在名词前加定冠词<span style = "color: red"> <strong>the</strong></span></p>
<h5 id="冠词"><a href="#冠词" class="headerlink" title="冠词"></a>冠词</h5><ol>
<li>表示特指</li>
<li>用于上文中提到的事物</li>
<li>世上独一无二的事物、方位名词</li>
<li>用在序数词、形容词最高级以及only前面</li>
</ol>
<h6 id="代词在句中能指代什么？"><a href="#代词在句中能指代什么？" class="headerlink" title="代词在句中能指代什么？"></a>代词在句中能指代什么？</h6><ol>
<li>指代人</li>
<li>指代物</li>
<li>指代上文整句话的内容</li>
</ol>
<h4 id="形容词"><a href="#形容词" class="headerlink" title="形容词"></a>形容词</h4><ol>
<li><p>形容词的三个级别：原级、比较级、最高级</p>
</li>
<li><p>与······一样(<span style = "color: grey">as + 形容词原级 + as</span>)或(<span style = "color: grey">as + 形容词原级 + 名词 + as</span>)</p>
</li>
<li><p>形容词的比较级前可以用<strong>表示程度的词</strong>或<strong>短语</strong>来进行修饰(<strong>a bit，a little，very much</strong>)</p>
</li>
<li><p>比较级 + and + 比较级 &#x3D;&#x3D;&gt; 越来越…</p>
</li>
<li><p>the + 比较级 + 主谓</p>
</li>
<li><p><strong>more than</strong> 不仅仅是</p>
</li>
<li><p><strong>more···than···</strong>比···多；与其···不如说</p>
</li>
<li><p><strong>better than</strong> 比···更好</p>
</li>
<li><p><strong>rather than</strong>而不是</p>
</li>
<li><p><strong>less than</strong> 少于</p>
</li>
</ol>
<h4 id="副词"><a href="#副词" class="headerlink" title="副词"></a>副词</h4><table>
<thead>
<tr>
<th>分类</th>
<th>举例</th>
</tr>
</thead>
<tbody><tr>
<td>时间</td>
<td>just，recently，before，already，finally，today</td>
</tr>
<tr>
<td>地点</td>
<td>here，there，nearby</td>
</tr>
<tr>
<td>方式</td>
<td>fast，hard，carefully，slowly</td>
</tr>
<tr>
<td>程度</td>
<td>much，little，very，enough，particularly</td>
</tr>
<tr>
<td>频率</td>
<td>usually，often，sometimes，never，alw                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ays，hardly，constantly，frequency，seldom</td>
</tr>
</tbody></table>
<ol>
<li>修饰形容词，放在形容词前</li>
<li>修饰动词，可以放动词前后，也可以放句末</li>
<li>时间、地点副词可以放在<strong>句 首</strong>或<strong>句末</strong></li>
</ol>
<h4 id="介词"><a href="#介词" class="headerlink" title="介词"></a>介词</h4><ul>
<li><strong>in</strong>(<strong>大</strong>地点，<strong>泛</strong>指时间，在···的里面，语言;工具，在…方面)</li>
<li><strong>on</strong>(具体日期，电子类，在…上  )</li>
<li><strong>at</strong>(小地点，具体时刻[正午、黄昏]，在···的里面)</li>
<li><strong>for</strong>(接时间段[完成时]，对于，表去向;目的，由于，作为)</li>
<li><strong>by</strong>(by + 将来&#x2F;过去时间：到···为止，被，在···旁边，表程度;数量，通过···的方式，by + 交通工具)</li>
<li><strong>with</strong>(用，和···一起，随着，伴有···，由于，with + n. + adj.&#x2F;V.-ing&#x2F;V.ed[独立主格])</li>
<li><strong>of</strong>(···的)</li>
<li><strong>from</strong>(从···)</li>
<li><strong>about</strong>(大约，关于)</li>
<li><strong>beyond</strong>(超出)</li>
<li><strong>against</strong>(与···相对&#x2F;相反)</li>
<li><strong>as</strong>(作为)</li>
<li><strong>before</strong>(在···之前[可以指时间;距离])</li>
<li><strong>after</strong>(在···之后[可以指时间;跟随])</li>
<li><strong>since</strong>(接过去时间点[用完成时]副词表示“从此以后”)</li>
<li><strong>over</strong>(在···上面，超过，多于)</li>
<li><strong>across</strong>(穿过[表面])</li>
<li><strong>through</strong>(穿过[内部])</li>
<li><strong>under</strong>(在···下面)</li>
<li><strong>above</strong>(在···上面)</li>
<li><strong>below</strong>(在···下面)</li>
<li><strong>beside</strong>(在···旁边)</li>
<li><strong>behind</strong>(在···后面)</li>
<li><strong>between</strong>(在两者之间)</li>
<li><strong>among</strong>(在三者或三者以上之中)</li>
<li><strong>without</strong>(没有)</li>
<li><strong>concerning</strong>(关于)</li>
</ul>
<hr>
<p><strong>have，has表拥有，一个口诀全搞定</strong></p>
<p>你有(you)，我有(I)，大家有(多人以上) → have</p>
<p>他(he)，她(she)，它(it)，个人有(Jack,Lily…) → has</p>
<hr>
<p>时间大于1天 用in、时间等于1天 用on、时间小于1天 用at</p>
<p>in年in月in四季 (in summer)</p>
<p>上午下午和晚上(in the morning)</p>
<p>on加周末和星期(On Monday)</p>
<p>还有具体某一天(On  June 1st)</p>
<p>at要加时间点(at 5o’clock)</p>
<p>中午夜里和黎明(at night)</p>
<hr>
<p><strong>名词</strong>前用<strong>what</strong>，<strong>形容词副词</strong>前用<strong>how</strong>，<strong>形名相连</strong>就用<strong>what</strong>，<strong>形名不连</strong>就用<strong>how</strong></p>
<hr>
<table>
<thead>
<tr>
<th>一般现在时</th>
<th>I <u>do</u> my homework.</th>
</tr>
</thead>
<tbody><tr>
<td>一般过去时</td>
<td>I <u><strong>did</strong></u> my homework.</td>
</tr>
<tr>
<td>一般将来时</td>
<td>I <u><strong>will do</strong></u> my homework.</td>
</tr>
<tr>
<td>现在进行时</td>
<td>I <strong><u>am doing</u></strong> my homework.</td>
</tr>
<tr>
<td>过去进行时</td>
<td>I <strong><u>was doing</u></strong> my homework.</td>
</tr>
<tr>
<td>现在完成时</td>
<td>I <strong><u>have done</u></strong> my homework.</td>
</tr>
<tr>
<td>过去完成时</td>
<td>I <strong><u>had done</u></strong> my homework.</td>
</tr>
<tr>
<td>过去将来时</td>
<td>I <strong><u>would do</u></strong> my homework.</td>
</tr>
</tbody></table>
<hr>
<p>夸<strong>小朋友</strong>的可以用：lovely &#x2F; <strong>cute</strong> &#x2F; adorable 可爱的 <strong>pretty 漂亮的</strong> sweet 甜美的</p>
<p>夸<strong>女生</strong>漂亮可以用：<strong>gorgeous 动人的</strong> stunning 惊艳的 <strong>elegant 优雅的</strong></p>
<p>夸<strong>男生</strong>帅气可以用：<strong>handsome 英俊的</strong> good-looking 好看的 <strong>charming 有魅力的</strong></p>
<p>夸<strong>风景</strong>漂亮可以用：<strong>breathtaking 令人惊叹的</strong> ground 雄伟的 spectacular 壮丽的 <strong>magnificent 壮观的</strong></p>
<hr>
<table>
<thead>
<tr>
<th>0 zero</th>
<th>1 one</th>
<th>2 two</th>
<th>3 three</th>
<th>4 four</th>
<th>5 five</th>
<th>6 six</th>
<th>7 seven</th>
<th>8 eight</th>
</tr>
</thead>
<tbody><tr>
<td>9 nine</td>
<td>10 ten</td>
<td>11 eleven</td>
<td>12 twelve</td>
<td>13 thirteen</td>
<td>14 fourteen</td>
<td>15 fifteen</td>
<td>16 sixteen</td>
<td>17 seventeen</td>
</tr>
<tr>
<td>18 eighteen</td>
<td>19 nineteen</td>
<td>20 twenty</td>
<td>30 thirty</td>
<td>40 forty</td>
<td>50 fifty</td>
<td>60 sixty</td>
<td>70 seventy</td>
<td>80 eighty</td>
</tr>
<tr>
<td>90 ninety</td>
<td>100 one hundred</td>
<td>1000 one thousand</td>
<td>100万 one million</td>
<td>10亿 one billion</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<hr>
<p><strong>有the</strong> 表示地点，<strong>无the</strong> 表示动作；</p>
<p>in hospital 住院， in the hospital 在医院</p>
<p>go to bed 去睡觉， go to the bed 在床边上</p>
<hr>
<p>去某地 (go + 副词)、(go to + 名词)</p>
<hr>
<p>一月：January    二月：February    三月：March    四月：April    五月：May    六月：June</p>
<p>七月：July    八月：August    九月：September    十月：October    十一月：November    十二月：December</p>
<hr>
<p>在公交车上是<strong>in</strong> the bus 还是<strong>on</strong> the bus呢？ <strong>看腿！！</strong></p>
<p>腿能站起来在上面走路的用<strong>on</strong>     on the bus , on the train , on the plane</p>
<p>腿坐不直只能坐在里面的用**in    ** in the taxi , in the car </p>
<hr>
<p>在墙上是用in the wall 还是 on the wall 呢？</p>
<p>in <strong>“i”像钉子</strong> 在里面用 in the wall </p>
<p>on <strong>“o”像时钟</strong> 在墙上用 on the wall</p>
<hr>
<p>英语中的几个<strong>吃</strong></p>
<p><strong>eat</strong> → 需要咀嚼的事物 eat an apple</p>
<p><strong>take</strong> → 服用(药物) take some medicine</p>
<p><strong>have</strong> → 一日三餐 have breakfast &#x2F; lunch &#x2F;dinner     have an apple &#x2F; some medicine</p>
<hr>
<p>yesterday 昨天    the day before yesterday 前天    three days ago 大前天</p>
<p>tomorrow 明天    the day after tomorrow 后天    in three days 大后天</p>
<hr>
<p>我要上厕所：I need to go to the <strong>bathroom &#x2F; restroom &#x2F; washroom</strong></p>
<p>小朋友可以用： I need to <strong>pee(尿尿) &#x2F; poop(便便)</strong></p>
<p>朋友之间可以用：<strong>No.1(大号) &#x2F; No.2(小号)</strong></p>
<hr>
<p>分开<strong>一段时间</strong>，<em>some time</em>    Do you have <u>some time</u>？           你有<u>一些时间</u>吗</p>
<p>相聚<strong>某个时候</strong>，<em>sometime</em>    Let’s do this <u>sometime</u>.                 我们<u>某个时候</u>做这件事吧</p>
<p>分开s是<strong>几次</strong>，<em>some times</em>    I’ ve been here <u>some times</u>.         我来过这里<u>几次</u>了</p>
<p>相聚s是<strong>有时</strong>，<em>sometimes</em>    I <u>sometimes</u> go there.                    我<u>有时</u>会去那里</p>
<hr>
<p>Mr. → 先生</p>
<p>Mrs. → 太太(已婚女性)</p>
<p>Miss →未婚女性(最爱美 身材最好 两个S曲线)</p>
<p>Ms. → 女士(未知是否结婚)</p>
<hr>
<p>open 是把原来关上的东西打开了</p>
<p>turn on 是把原来的电路接通了 turn on the light</p>
<p>turn off 是把原来接通的电路断开了 turn off the light</p>
<hr>
<p> ‘</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/英语" style=color:#ffa2c4>
                英语
            </a>
        </span>
        
    </div>

    <a href="/2022/03/27/英语/奋斗的开始——词形+词性+介词/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/26/破解/破解百度网盘限速/">
        <h2>
            破解百度网盘限速
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/26
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="闲话少说，直接开始正题！！！"><a href="#闲话少说，直接开始正题！！！" class="headerlink" title="闲话少说，直接开始正题！！！"></a>闲话少说，直接开始正题！！！</h1><h3 id="必备工具："><a href="#必备工具：" class="headerlink" title="必备工具："></a>必备工具：</h3><ol>
<li>Google Chrome 浏览器</li>
<li>游猴插件：(<a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN">https://greasyfork.org/zh-CN</a>)</li>
<li>IDM：(<a target="_blank" rel="noopener" href="https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqbG0zRVIyeGhURlRiQXdMVU1GdUFBR1R6RHVqUXxBQ3Jtc0ttbVhwZ2I4bUYwOXhneHBGQlNXTm4tLVdTeHIzTk9KRVpubUpQNUJJbm1DRFV1TlNWMmY1NnRBTmxKNGNZX0lMdXFoLUNDY0RQd2d1bmpFdkgyYmtUc3lEcVN4cE1kY0RjQnFfM2xUZjdCdDJ6bDNZbw&q=https://wwx.lanzoux.com/b01nqc7yj">https://wwx.lanzoux.com/b01nqc7yj</a>)</li>
</ol>
<h3 id="操作步骤："><a href="#操作步骤：" class="headerlink" title="操作步骤："></a>操作步骤：</h3><ol>
<li><p>下载好游猴插件并安装到Google Chrome 浏览器</p>
</li>
<li><p>进入游猴页面，点击GreasyFork，搜索下载<a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN/scripts/418182-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%AE%80%E6%98%93%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B-%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD%E5%A4%8D%E6%B4%BB%E7%89%88">百度网盘简易下载助手</a>(作者：软件小妹)</p>
</li>
<li><p>打开下载好的IDM(同时开启带有游猴插件的Google Chrome 浏览器)</p>
<p>依次点击并 <strong>设置</strong> —-&gt;<strong>选项</strong> —-&gt; <strong>连接</strong>(修改默认最大连接数为: 4) —-&gt; <strong>文件类型</strong>(在<strong>自动开始下载下列类型的文件</strong>下修改下载类型&lt;复制粘贴即可&gt;)：3GP 7Z AAC ACE AI AIF ALZ APK APP ARC ARJ ASF AVI BH BIN BR BUNDLE BZ BZ2 CDA CSV DIF DLL DMG DOC DOCX EGG EPS EXE FLV GZ GZIP IMG IPA ISO ISZ JAR KEXT LHA LZ LZH LZMA M4A M4V MDB MID MKV MOV MP3 MP4 MPA MPE MPEG MPG MSI MSU MUI OGG OGV PDF PKG PPT PPTX PSD PST PUB QT R0* R1* RA RAR RM RMVB RTF SEA SIT SITX SLDM SLDX TAR TBZ TBZ2 TGZ TIF TIFF TLZ TXZ UDF VOB VSD VSDM VSDX VSS VSSM VST VSTM VSTX WAR WAV WBK WIM WKS WMA WMD WMS WMV WMZ WP5 WPD WPS XLS XLSX XPS XZ Z ZIP ZIPX ZPAQ ZSTD) —-&gt;<strong>下载</strong>(将下方手动添加用户代理(UA)修改为：netdisk;7.0.3.2;PC;PC-Windows;10.0.17763)，点击确定</p>
</li>
<li><p>打开Google Chrome 浏览器登录百度网盘网页版 登录账号 随后即可看见<strong>简易下载助手</strong> <img src="https://raw.githubusercontent.com/P-luminary/image/master/data/easydown.PNG"></p>
</li>
<li><p>选择想下载的文件点击简易下载助手(<strong>仅限单个文件</strong>) —-&gt;<strong>点击获取直链地址</strong>(失败就多试几次) —-&gt; 扫公众号获得验证码 —-&gt; 复制直链地址 —-&gt; 返回IDM(<strong>新建任务</strong> —-&gt; 复制链接到地址) 即可成功破解百度网盘限速功能！！！<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=aY_5QzAbutY">!</a></p>
</li>
</ol>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/破解" style=color:#1bccbc>
                破解
            </a>
        </span>
        
    </div>

    <a href="/2022/03/26/破解/破解百度网盘限速/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/26/竞赛-算法/PTA知识点精讲/">
        <h2>
            PTA知识点精讲
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/26
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h3 id="带空格的字符串输入-C"><a href="#带空格的字符串输入-C" class="headerlink" title="带空格的字符串输入(C++)"></a>带空格的字符串输入(C++)</h3><p>① <strong>cin.get(str, len)</strong> 函数<strong>可以接收空格</strong>，遇<strong>回车</strong>结束输入，将换行符保留。</p>
<p><u>str</u>用来存储输入行的数组名称</p>
<p><u>len</u>是要读取的字符数</p>
<pre><code class="c++">#include &lt;iostream&gt;
using namespace std;
int main()&#123;
    char a[50];
    cin.get(a,50);
    cout &lt;&lt; a &lt;, endl;
    return 0;
&#125;
</code></pre>
<h5 id="输入：I-love-China回车结束输入，输出结果为I-love-China。"><a href="#输入：I-love-China回车结束输入，输出结果为I-love-China。" class="headerlink" title="输入：I love China回车结束输入，输出结果为I love China。"></a><em>输入：I love China回车结束输入，输出结果为I love China。</em></h5><hr>
<hr>
<p>② <strong>cin.getline(str, len)</strong> 函数<strong>可以接收空格</strong>，遇<strong>回车</strong>结束输入，将换行符丢弃。</p>
<pre><code class="c++">#include &lt;iostream&gt;
using namespace std;
int main()&#123;
    char a[50];
    cin.getline(a,50);
    cout &lt;&lt; a &lt;&lt; endl;
    return 0;
&#125;
</code></pre>
<h5 id="输入：I-love-China回车结束输入，输出结果为I-love-China。-1"><a href="#输入：I-love-China回车结束输入，输出结果为I-love-China。-1" class="headerlink" title="输入：I love China回车结束输入，输出结果为I love China。"></a><em>输入：I love China回车结束输入，输出结果为I love China。</em></h5><hr>
<hr>
<p>③ <strong>gets()</strong> 函数以无限读取，以回车结束读取(在c++中运行会产生bug)</p>
<pre><code class="c++">#inlcude &lt;iostream&gt;
#inlcude &lt;cstdio&gt;
using namespace std;
int main()&#123;
    char a[50];
    cin &gt;&gt; a;
    gets(a);
    cout &lt;&lt; a &lt;&lt; endl;
    return 0;
&#125;
</code></pre>
<h5 id="输入：I-love-China回车结束输入，输出结果为love-China。首字符自动丢弃。"><a href="#输入：I-love-China回车结束输入，输出结果为love-China。首字符自动丢弃。" class="headerlink" title="输入：I love China回车结束输入，输出结果为love China。首字符自动丢弃。"></a><em>输入：I love China回车结束输入，输出结果为love China。首字符自动丢弃。</em></h5><hr>
<hr>
<p><strong>④ getline()</strong> 函数若定义变量为string类型，则要考虑此函数</p>
<pre><code class="c++">#include &lt;iostream&gt;
#include &lt;cstring&gt;
using namespace std;
int main()&#123;
    string a;
    getline(cin,a);
    cout &lt;&lt; a &lt;&lt; endl;
    return 0;
&#125;
</code></pre>
<h5 id="输入：I-love-China回车并未结束输入，需回车两次才能结束输入，输出结果为：I-love-China"><a href="#输入：I-love-China回车并未结束输入，需回车两次才能结束输入，输出结果为：I-love-China" class="headerlink" title="输入：I love China回车并未结束输入，需回车两次才能结束输入，输出结果为：I love China."></a><em>输入：I love China回车并未结束输入，需回车两次才能结束输入，输出结果为：I love China.</em></h5><hr>
<hr>
<p>⑤ <strong>cin</strong> 是C++中最常用的输入语句，当遇到空格或者回车键即停止</p>
<pre><code class="c++">#include &lt;iostream&gt;
#include &lt;cstring&gt;
using namespace std;
int main()&#123;
    char a[50];
    cin &gt;&gt; a;
    cout &lt;&lt; a &lt;&lt; endl;
    return 0;
&#125;
</code></pre>
<h5 id="输入：abcd遇回车输出abcd"><a href="#输入：abcd遇回车输出abcd" class="headerlink" title="输入：abcd遇回车输出abcd"></a><em>输入：abcd遇回车输出abcd</em></h5><h5 id="缺点：只能输入没有空格的字符串，当输入中含有空格，则只能输出空格之前的字符"><a href="#缺点：只能输入没有空格的字符串，当输入中含有空格，则只能输出空格之前的字符" class="headerlink" title="缺点：只能输入没有空格的字符串，当输入中含有空格，则只能输出空格之前的字符"></a><em>缺点：只能输入没有空格的字符串，当输入中含有空格，则只能输出空格之前的字符</em></h5><h5 id="输入：I-love-China输入空格时输入并未停止，遇回车输入停止，输出I，空格后面的均未输出。"><a href="#输入：I-love-China输入空格时输入并未停止，遇回车输入停止，输出I，空格后面的均未输出。" class="headerlink" title="输入：I love China输入空格时输入并未停止，遇回车输入停止，输出I，空格后面的均未输出。"></a><em>输入：I love China输入空格时输入并未停止，遇回车输入停止，输出I，空格后面的均未输出。</em></h5><hr>
<hr>
<p>⑥ 用得到的<strong>函数</strong></p>
<pre><code class="c++">#include &lt;isotream&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;cstdio&gt;
#include &lt;cmath&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;sstream&gt;
using namespace std;
</code></pre>
<p>⑦ 常用的知识点</p>
<ul>
<li><p>string</p>
<ol>
<li><p>erase函数删掉指定位置的字符</p>
<p>（1）erase(pos,n); 删除从pos开始的n个字符，比如erase(0,1)就是删除第一个字符<br>（2）erase(position);删除position处的一个字符(position是个string类型的迭代器)<br>（3）erase(first,last);删除从first到last之间的字符（first和last都是迭代器）</p>
</li>
<li><p>截取子串</p>
<p>s.substr(pos, n) 截取s中从pos开始(包括0)的n个字符的子串，并返回</p>
</li>
<li><p>replace(int i, int num, string s)从第i个位置以后的num个字符替换为s</p>
</li>
<li><p>find</p>
<p>（1）s.find(string s1) 返回s1在s中第一次出现的下一个位置</p>
<p>（2）s.find(string s1,int num) 从下标num开始查找s1返回在s中的下标位置</p>
</li>
<li><p>char转string<br> char str[10];<br> string s(str);&#x2F;&#x2F;或者是s &#x3D; str;</p>
</li>
<li><p>string转char</p>
<p> const char *str;<br> string s;<br> str &#x3D; s.c_str();</p>
</li>
</ol>
</li>
<li><p>四舍五入</p>
<p>double a &#x3D; 11&#x2F;2.0;<br>int b &#x3D; (int)(a+0.5);</p>
</li>
</ul>
<h4 id="sort-头文件-include"><a href="#sort-头文件-include" class="headerlink" title="sort 头文件 #include "></a>sort 头文件 #include <algorithm></h4><pre><code class="c++">默认是从小到大
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
using namespace std;
int main()&#123;
    int arr[] = &#123;3,4,7,2,1&#125;;
    
    sort(arr,arr+5);
    for(int i = 0; i &lt; 5; i++)&#123;
    cout &lt;&lt; arr[i];
    &#125;
    return 0;
&#125;

从大到小仅需把第八行改为：
    sort(arr,arr+5,greater&lt;int&gt;());

也可以自造比较函数
    bool cmp(int x, int y)&#123;
    return x &gt; y;
&#125;
    sort(arr,arr+5,cmp);
</code></pre>
<ul>
<li><p>保留两位小数 -&gt; %.2f</p>
</li>
<li><p>比如要将‘8’转换为数字8，在语句中这样写就可以了，“ 8+‘0’ “</p>
</li>
<li><p>字符到数字的转化可以利用s[i] - ‘0’</p>
</li>
<li><p>字符串长度 -&gt; <strong>int len &#x3D; (int)strlen(str)</strong>;  字符串记得结束符 ‘0’</p>
</li>
<li><p>“%”是取尾，“&#x2F;”是留头 &#x3D;&#x3D;&gt; a&#x3D;1234567  （ a%10 &#x3D; 7 ，a&#x2F;10 &#x3D; 123456）</p>
</li>
<li><pre><code class="c++">    int a = 123456789;
    for(int i = 0; i &lt; 1; i++)
        printf(&quot;%d\n&quot;,a/1%10);    =&gt;9
         printf(&quot;%d\n&quot;,a/10%10);    =&gt;8
        printf(&quot;%d\n&quot;,a/100%10); =&gt;7
        printf(&quot;%d\n&quot;,a/1000%10); =&gt;6
    输出每个数字：cout &lt;&lt; a %= 10; a /= 10;
</code></pre>
</li>
<li><p>字符串连接strcat()  字符串复制strcpy()</p>
</li>
<li><p>循环输入终止模板：while(scanf(“%s”, s) !&#x3D; EOF)</p>
</li>
</ul>
<h4 id="PTA空格输出模板"><a href="#PTA空格输出模板" class="headerlink" title="PTA空格输出模板"></a>PTA空格输出模板</h4><pre><code class="c++">for(int i = 0; i &lt; N; i++)&#123;
    if(i != N - 1)&#123;
        printf(&quot;%lf&quot;, num[i]);
    &#125;else&#123;
        printf(&quot;%lf\n&quot;, num[i]);
    &#125;
&#125;
return 0;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/竞赛/算法" style=color:#ffa2c4>
                竞赛/算法
            </a>
        </span>
        
    </div>

    <a href="/2022/03/26/竞赛-算法/PTA知识点精讲/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/25/语法/MarkDown语法/">
        <h2>
            MarkDown语法
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/25
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="Markdown快速入门（typora"><a href="#Markdown快速入门（typora" class="headerlink" title="Markdown快速入门（typora)"></a>Markdown快速入门（typora)</h1><h4 id="1、代码块："><a href="#1、代码块：" class="headerlink" title="1、代码块："></a>1、代码块：</h4><pre><code class="java">//代码块语法：
```java
```c++
</code></pre>
<h5 id="①-java代码"><a href="#①-java代码" class="headerlink" title="①. java代码"></a>①. java代码</h5><pre><code class="java">package com.pcy.po;

import javax.persistence.*;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

@Entity
@Table(name = &quot;t_user&quot;)
public class User&#123;
    
&#125;
</code></pre>
<h5 id="②-c-代码"><a href="#②-c-代码" class="headerlink" title="②. c++代码"></a>②. c++代码</h5><pre><code class="c++">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
char s[1005];
int main()&#123;
    while(scanf(&quot;%s&quot;,s) != EOF);
    cout &lt;&lt; (int)strlen(s);
    return 0;
&#125;
</code></pre>
<h4 id="2、标题："><a href="#2、标题：" class="headerlink" title="2、标题："></a>2、标题：</h4><pre><code class="java">//标题语法
 # 一级标签
 ## 二级标签
 ### 三级标签
 #### 四级标签
 ##### 五级标签
 ###### 六级标签
</code></pre>
<h1 id="一级标签"><a href="#一级标签" class="headerlink" title="一级标签"></a>一级标签</h1><h2 id="二级标签"><a href="#二级标签" class="headerlink" title="二级标签"></a>二级标签</h2><h3 id="三级标签"><a href="#三级标签" class="headerlink" title="三级标签"></a>三级标签</h3><h4 id="四级标签"><a href="#四级标签" class="headerlink" title="四级标签"></a>四级标签</h4><h5 id="五级标签"><a href="#五级标签" class="headerlink" title="五级标签"></a>五级标签</h5><h6 id="六级标签"><a href="#六级标签" class="headerlink" title="六级标签"></a>六级标签</h6><h4 id="3、字体："><a href="#3、字体：" class="headerlink" title="3、字体："></a>3、字体：</h4><pre><code class="java">//斜体
*第一次写博客*
//加粗
**第一次写博客**
//代码高亮显示
==第一次写博客==
//删除线
~~第一次写博客~~
//下划线
&lt;u&gt;第一次写博客&lt;/u&gt;
//脚注
第一次写博客[^Asuna]
</code></pre>
<p><em>第一次写博客</em><br><strong>第一次写博客</strong><br>&#x3D;&#x3D;第一次写博客&#x3D;&#x3D;<br><del>第一次写博客</del><br><u>第一次写博客</u></p>
<p>第一次写博客[^Asuna]</p>
<h4 id="4、引用"><a href="#4、引用" class="headerlink" title="4、引用"></a>4、引用</h4><pre><code class="java">//引用语法
&gt;作者：Kirito
&gt;&gt;作者：Kirito
&gt;&gt;&gt;作者：Kirito
+
-
</code></pre>
<blockquote>
<p>作者：Kirito</p>
<blockquote>
<p>作者：Kirito</p>
<blockquote>
<p>作者：Kirito</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="5、分割线"><a href="#5、分割线" class="headerlink" title="5、分割线:"></a>5、分割线:</h4><pre><code class="java">//分割线
---
//分割线2
***
</code></pre>
<hr>
<hr>
<h4 id="6、图片插入"><a href="#6、图片插入" class="headerlink" title="6、图片插入"></a>6、图片插入</h4><pre><code class="java">//在线图片 || 本地图片
![我的照片](/image/XXX.png 或 用图床上传至GitHub 然后右键复制图片链接 再从浏览器中打开 再右键复制图像链接) --图片路径
[敲重点]Markdown可以通过普通的&lt;img&gt;标签来指定图片的 高度 和 宽度
&lt;img src = &quot;https://raw.githubusercontent.com/P-luminary/image/master/data/avatar.png&quot; width = &quot;50%&quot;&gt;
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/image/master/data/avatar.png" alt="我的照片"></p>
<img src="https://raw.githubusercontent.com/P-luminary/image/master/data/avatar.png" width = "20%">



<h4 id="7、超链接"><a href="#7、超链接" class="headerlink" title="7、超链接"></a>7、超链接</h4><pre><code class="java">//超链接语法
[P-luminary GitHub](https://github.com/Luminarness)
</code></pre>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/P-luminary">P-luminary 的 GitHub</a></li>
</ul>
<h4 id="8、列表"><a href="#8、列表" class="headerlink" title="8、列表"></a>8、列表</h4><pre><code class="java">//无序列表 (&quot;-&quot;是实心圈  &quot;+&quot;是空心圈)
- 目录1
- 目录2
- 目录3
//有序列表
数字键 + &quot;.&quot; + 名称
//列表嵌套(需要在子列表中的选项前面添加四个空格)
1. 第一项
    - 第一项嵌套的第一个元素
2. 第二项
    - 第二项嵌套的第二个元素
</code></pre>
<ul>
<li><p>目录1</p>
</li>
<li><p>目录2</p>
</li>
<li><p>目录3</p>
<ol>
<li><p>首页</p>
</li>
<li><p>分类</p>
</li>
<li><p>标签</p>
</li>
<li><p>第一项</p>
<ul>
<li>第一项嵌套的第一个元素</li>
</ul>
</li>
<li><p>第二项</p>
<ul>
<li>第二项嵌套的第二个元素</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4 id="9、表格"><a href="#9、表格" class="headerlink" title="9、表格"></a>9、表格</h4><pre><code class="java">在Typora中右键 -&gt; 插入 -&gt; 表格
</code></pre>
<table>
<thead>
<tr>
<th>日期</th>
<th>心情</th>
<th>饱和度</th>
</tr>
</thead>
<tbody><tr>
<td>2022-03-25 1:27</td>
<td>非常好</td>
<td>满</td>
</tr>
</tbody></table>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/语法" style=color:#879cff>
                语法
            </a>
        </span>
        
    </div>

    <a href="/2022/03/25/语法/MarkDown语法/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/25/竞赛-算法/PTA技巧/">
        <h2>
            PTA技巧
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/25
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h3 id="时间优化-（写好的代码有测试点运行超时-可以暂时放下-不要浪费时间）"><a href="#时间优化-（写好的代码有测试点运行超时-可以暂时放下-不要浪费时间）" class="headerlink" title="时间优化:（写好的代码有测试点运行超时, 可以暂时放下, 不要浪费时间）"></a>时间优化:（写好的代码有测试点运行超时, 可以暂时放下, 不要浪费时间）</h3><ol>
<li><p>如果出现运行超时考虑是否因为<strong>非法输入</strong>导致死循环</p>
</li>
<li><p>尽量创建全局变量(创建一次，后面赋值)，不要重复创建临时变量</p>
</li>
<li><p>尽量使用scanf，printf，而不使用<del>cin，cout</del> (C++的IO存在缓存(可取消))</p>
</li>
</ol>
<pre><code class="c++">#include &lt;bits/stdc++.h&gt; //万能头
using namespace std;
→→→    ios::sync_with_stdio(false); ←←←
→→→    cin.tie(0);cout.tie(0);    ←←←
</code></pre>
<ol start="4">
<li>使用引用访问容器中的元素(遍历，排序&#x3D;&#x3D;&gt;<u>增强型for循环</u>)</li>
</ol>
<pre><code class="c++">vector&lt;int&gt; vc&#123;0,1,2,3&#125;;
for(int&amp; i : vc)
    cout &lt;&lt; i;
</code></pre>
<ol start="5">
<li><p>使用unordered_map，unordered_set替换map，set可以提升效率(注意改头文件)</p>
</li>
<li><p>为了实现排序功能，尽量使用sort对数组排序，而不要依赖与map和set的自动排序(map，set结构庞大)</p>
</li>
<li><p>一般递归算法都比较慢，深搜(DFS)可以通过剪枝优化，并查集可以进行路径压缩提升效率。</p>
</li>
</ol>
<hr>
<h3 id="时间优化"><a href="#时间优化" class="headerlink" title="时间优化:"></a>时间优化:</h3><ol>
<li><p>为了方便函数调用，可以都用全局变量(但这是个<em>坏习惯</em>)</p>
</li>
<li><p>不确定数据多少的情况，不一定非要用动态数组，可以直接根据题目给的数据范围定义一个较大的数组（大小应大于题目所给的范围），一般情况下不会出现内存超限 [数组大小别超过10^8，二维数组不能超过array(10000)(10000)]</p>
</li>
<li><p><strong>答案错误</strong>很有可能是漏了题目的<u>关键信息</u></p>
</li>
<li><p><strong>格式错误</strong>是因为排版跟题目要求不同，可能<u>多空格或空行</u></p>
</li>
<li><p><strong>段错误</strong>是因为非法访问才会导致，一般情况下是因为<u>数组访问越界</u></p>
</li>
<li><p><strong>涉及到除法的</strong>要考虑除数不能为0，一般会有一个测试点</p>
</li>
<li><p><strong>图论问题</strong>用深搜可以得到大部分的分</p>
</li>
<li><p>选取<strong>适当的结构</strong>(容器)可以让思路更清晰</p>
</li>
<li><p>熟悉编译器的调试功能(Debug)可以更快找出bug</p>
</li>
</ol>
<hr>
<h3 id="必备知识："><a href="#必备知识：" class="headerlink" title="必备知识："></a>必备知识：</h3><p>​    数据结构与算法：</p>
<ol>
<li><p>树：二叉树的遍历方式，平衡二叉树的建树过程，根据两种遍历来建树</p>
</li>
<li><p>图：深搜，广（层）搜，并查集<a target="_blank" rel="noopener" href="https://www.cnblogs.com/xzxl/p/7226557.html">（推荐博客）</a>。</p>
</li>
<li><p>堆：堆结构，建堆过程（堆排序）。</p>
</li>
<li><p>链表：根据结点连接链表（一般通过结构体进行模拟）。</p>
</li>
<li><p>排序：熟悉快排和归并排序的排序过程</p>
</li>
</ol>
<h3 id="常用库、函数-黑科技"><a href="#常用库、函数-黑科技" class="headerlink" title="常用库、函数(黑科技)"></a>常用库、函数(黑科技)</h3><h6 id="容器、字符串处理、lambda表达式、自定义排序、类型转换、数值边界、数学函数、auto关键字、堆、常用功能函数-查找-计数-倒序"><a href="#容器、字符串处理、lambda表达式、自定义排序、类型转换、数值边界、数学函数、auto关键字、堆、常用功能函数-查找-计数-倒序" class="headerlink" title="容器、字符串处理、lambda表达式、自定义排序、类型转换、数值边界、数学函数、auto关键字、堆、常用功能函数(查找 计数 倒序)"></a><em>容器、字符串处理、lambda表达式、自定义排序、类型转换、数值边界、数学函数、auto关键字、堆、常用功能函数(查找 计数 倒序)</em></h6><table>
<thead>
<tr>
<th>知识点</th>
<th>说明</th>
<th>推荐博客</th>
</tr>
</thead>
<tbody><tr>
<td>string容器</td>
<td>封装了一些对字符串的常用操作</td>
<td><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40946921/article/details/104836507">C++ String详解</a></td>
</tr>
<tr>
<td>regex正则表达式</td>
<td>使用正则表达式来替换、查找字符串</td>
<td><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34802416/article/details/79307102">C++ 正则表达式</a></td>
</tr>
<tr>
<td>stirngstream字符串IO类</td>
<td>使用字符串来进行IO操作</td>
<td><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wuchanming/p/3906176.html">C++ stringstream</a></td>
</tr>
<tr>
<td>常用字符处理函数</td>
<td>isdigit(char ch)</td>
<td></td>
</tr>
</tbody></table>
<ol>
<li><p>sort函数排序，自定义结构体比较方式</p>
</li>
<li><p>STL标准库list，vector，queue，stack，map，set</p>
</li>
<li><p>数组(容器)倒序</p>
<ol>
<li>倒序函数: void reverse(typename begin, typename end);</li>
<li>利用反向迭代器倒序(构造new string)</li>
</ol>
</li>
<li><p>auto关键字</p>
</li>
<li><p>find函数</p>
</li>
</ol>
<pre><code class="c++">string str; // string类函数:未找到返回string::npos
if(str.find(&quot;substr&quot;) != string::npos);
    //......
set&lt;int&gt; st;
if(st.find(0) != st.end()); //set、map成员函数: 未找到返回尾迭代器
    //......
vector&lt;int&gt; vc;
if(find(vc.begin(),vc.end(),0) != vc.end()); //序列式容器可以通过algorithm库中的find
    //......
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/竞赛/算法" style=color:#ffa2c4>
                竞赛/算法
            </a>
        </span>
        
    </div>

    <a href="/2022/03/25/竞赛-算法/PTA技巧/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/01/15/后端/Redis实战篇/">
        <h2>
            Redis实战
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/1/15
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h2 id="黑马点评Redis"><a href="#黑马点评Redis" class="headerlink" title="黑马点评Redis"></a>黑马点评Redis</h2><p><img src="https://raw.githubusercontent.com/P-luminary/images/88713189f951d8ab6d78aec97873de573d169d7b/Redis%E5%AE%9E%E6%88%98%E7%AF%87.png"></p>
<h3 id="实现短信的登录和注册"><a href="#实现短信的登录和注册" class="headerlink" title="实现短信的登录和注册"></a>实现短信的登录和注册</h3><pre><code class="java">com/hmdp/controller/UserController.java
package com.hmdp.controller;


import cn.hutool.core.util.ObjectUtil;
import cn.hutool.core.util.RandomUtil;
import com.hmdp.dto.LoginFormDTO;
import com.hmdp.dto.Result;
import com.hmdp.dto.UserDTO;
import com.hmdp.entity.User;
import com.hmdp.entity.UserInfo;
import com.hmdp.service.IUserInfoService;
import com.hmdp.service.IUserService;
import com.hmdp.utils.RegexUtils;
import com.hmdp.utils.SystemConstants;
import com.hmdp.utils.UserHolder;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.*;

import javax.annotation.Resource;
import javax.servlet.http.HttpSession;

import static com.baomidou.mybatisplus.core.toolkit.Wrappers.lambdaQuery;
import static com.baomidou.mybatisplus.core.toolkit.Wrappers.query;


/**
 * &lt;p&gt;
 * 前端控制器
 * &lt;/p&gt;
 *
 * @author 虎哥
 * @since 2021-12-22
 */
@Slf4j
@RestController
@RequestMapping(&quot;/user&quot;)
public class UserController &#123;

    @Resource
    private IUserService userService;

    @Resource
    private IUserInfoService userInfoService;

    /**
     * 发送手机验证码
     */
    @PostMapping(&quot;code&quot;)
    public Result sendCode(@RequestParam(&quot;phone&quot;) String phone, HttpSession session) &#123;
        return userService.sendCode(phone, session);
    &#125;

    /**
     * 登录功能
     * @param loginForm 登录参数，包含手机号、验证码；或者手机号、密码
     */
    @PostMapping(&quot;/login&quot;)
    public Result login(@RequestBody LoginFormDTO loginForm, HttpSession session)&#123;
        String phone = loginForm.getPhone();
        // 校验手机号
        if (RegexUtils.isPhoneInvalid(phone)) &#123;
            return Result.fail(&quot;手机号格式错误！&quot;);
        &#125;
        // 校验验证码
        Object cacheCode = session.getAttribute(&quot;code&quot;);
        String code = loginForm.getCode();

        // 不一致 报错
        if (cacheCode == null || !code.equals(cacheCode)) &#123;
            return Result.fail(&quot;验证码错误&quot;);
        &#125;

        // 一致 根据手机号查询用户 用mybatisplus
        User user = userService.getOne(lambdaQuery(User.class).eq(User::getPhone, phone));
        // 判断用户是否存在
        if (ObjectUtil.isEmpty(user)) &#123;
            // 不存在 创建新用户保存
            user = new User();
            user.setPhone(phone);
            user.setNickName(SystemConstants.USER_NICK_NAME_PREFIX + RandomUtil.randomString(10));
            userService.save(user);
        &#125;
        // 存在 保存用户信息到session当中
        UserDTO userDTO = new UserDTO();
        userDTO.setId(user.getId());
        userDTO.setNickName(user.getNickName());
        userDTO.setPhone(user.getPhone());
        session.setAttribute(&quot;user&quot;, userDTO); // 确保保存的是 UserDTO 对象
        return Result.ok();
    &#125;

    /**
     * 登出功能
     * @return 无
     */
    @PostMapping(&quot;/logout&quot;)
    public Result logout()&#123;
        // TODO 实现登出功能
        return Result.fail(&quot;功能未完成&quot;);
    &#125;

    @GetMapping(&quot;/me&quot;)
    public Result me()&#123;
        // TODO 获取当前登录的用户并返回
        UserDTO user = UserHolder.getUser();
        return Result.ok(user);
    &#125;

    @GetMapping(&quot;/info/&#123;id&#125;&quot;)
    public Result info(@PathVariable(&quot;id&quot;) Long userId)&#123;
        // 查询详情
        UserInfo info = userInfoService.getById(userId);
        if (info == null) &#123;
            // 没有详情，应该是第一次查看详情
            return Result.ok();
        &#125;
        info.setCreateTime(null);
        info.setUpdateTime(null);
        // 返回
        return Result.ok(info);
    &#125;
&#125;
</code></pre>
<pre><code class="java">com/hmdp/service/impl/UserServiceImpl.java
package com.hmdp.service.impl;

import cn.hutool.core.util.RandomUtil;
import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import com.hmdp.dto.LoginFormDTO;
import com.hmdp.dto.Result;
import com.hmdp.entity.User;
import com.hmdp.mapper.UserMapper;
import com.hmdp.service.IUserService;
import com.hmdp.utils.RegexUtils;
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Service;

import javax.servlet.http.HttpSession;

/**
 * &lt;p&gt;
 * 服务实现类
 * &lt;/p&gt;
 *
 * @author 虎哥
 * @since 2021-12-22
 */
@Service
@Slf4j
public class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements IUserService &#123;

    @Override
    public Result sendCode(String phone, HttpSession session) &#123;
        // 校验手机号
        if (RegexUtils.isPhoneInvalid(phone)) &#123;
            // 不符合 返回错误信息
            return Result.fail(&quot;手机号格式错误！&quot;);
        &#125;
        // 符合 生成验证码
        String code = RandomUtil.randomNumbers(6);
        // 保存验证码到session
        session.setAttribute(&quot;code&quot;, code);
        // 发送验证码
        log.debug(&quot;发送短信验证码成功，验证码：&#123;&#125;&quot;, code);
        // 返回ok
        return Result.ok();
    &#125;

    @Override
    public Result login(LoginFormDTO loginForm, HttpSession session) &#123;
        return null;
    &#125;
&#125;
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/85fe36afc83beb58573eae44931fe1ed0934d272/Session+%E9%AA%8C%E8%AF%81%E7%A0%81.png"></p>
<h3 id="实现登录校验拦截器"><a href="#实现登录校验拦截器" class="headerlink" title="实现登录校验拦截器"></a>实现登录校验拦截器</h3><pre><code class="java">package com.hmdp.config;

import com.hmdp.utils.LoginInterceptor;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.InterceptorRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class MvcConfig implements WebMvcConfigurer &#123;
    @Override
    public void addInterceptors(InterceptorRegistry registry) &#123;
        registry.addInterceptor(new LoginInterceptor())
                .excludePathPatterns(
                        &quot;/user/code&quot;,
                        &quot;/user/login&quot;
                );
    &#125;
&#125;
</code></pre>
<pre><code class="java">package com.hmdp.utils;

import com.hmdp.dto.UserDTO;

public class UserHolder &#123;
    private static final ThreadLocal&lt;UserDTO&gt; tl = new ThreadLocal&lt;&gt;();

    public static void saveUser(UserDTO user)&#123;
        tl.set(user);
    &#125;

    public static UserDTO getUser()&#123;
        return tl.get();
    &#125;

    public static void removeUser()&#123;
        tl.remove();
    &#125;
&#125;
</code></pre>
<pre><code class="java">package com.hmdp.utils;

import cn.hutool.core.util.ObjectUtil;
import com.hmdp.dto.UserDTO;
import org.springframework.web.servlet.HandlerInterceptor;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class LoginInterceptor implements HandlerInterceptor &#123;
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;
        // 获取session
        HttpSession session = request.getSession();
        // 获取session中的用户
        Object user = session.getAttribute(&quot;user&quot;);
        // 判断用户是否存在
        if (ObjectUtil.isEmpty(user)) &#123;
            // 不存在，拦截
            response.setStatus(401);
            return false;
        &#125;
        // 存在，保存用户信息到ThreadLocal
        UserDTO userDTO = (UserDTO) user; // 确保 user 已经是 UserDTO 类型
        UserHolder.saveUser(userDTO);
        // 放行
        return true;
    &#125;

    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123;
        // 移除用户
        UserHolder.removeUser();
    &#125;
&#125;
</code></pre>
<h4 id="集群的Session共享问题"><a href="#集群的Session共享问题" class="headerlink" title="集群的Session共享问题"></a>集群的Session共享问题</h4><p>session共享问题：多台Tomcat并不共享session存储空间，当请求切换到不同tomcat服务时导致数据丢失的问题。</p>
<p>session的替代方案应该满足：数据共享、内存存储、key、value结构</p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/5b6d076e24d4cda9ea106bd713ee11a92fe7572c/Redis%E4%BB%A3%E6%9B%BFSession.png"></p>
<p>发送短信验证码后生成的验证码 <strong>保存验证码到Redis</strong> → 以手机号作为Key存储验证码 → 发送验证码</p>
<pre><code class="java">com/hmdp/controller/UserController.java
package com.hmdp.controller;


import cn.hutool.core.bean.BeanUtil;
import cn.hutool.core.bean.copier.CopyOptions;
import cn.hutool.core.lang.UUID;
import cn.hutool.core.util.ObjectUtil;
import cn.hutool.core.util.RandomUtil;
import com.hmdp.dto.LoginFormDTO;
import com.hmdp.dto.Result;
import com.hmdp.dto.UserDTO;
import com.hmdp.entity.User;
import com.hmdp.entity.UserInfo;
import com.hmdp.service.IUserInfoService;
import com.hmdp.service.IUserService;
import com.hmdp.utils.RegexUtils;
import com.hmdp.utils.SystemConstants;
import com.hmdp.utils.UserHolder;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.web.bind.annotation.*;

import javax.annotation.Resource;
import javax.servlet.http.HttpSession;

import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.TimeUnit;

import static com.baomidou.mybatisplus.core.toolkit.Wrappers.lambdaQuery;
import static com.baomidou.mybatisplus.core.toolkit.Wrappers.query;


/**
 * &lt;p&gt;
 * 前端控制器
 * &lt;/p&gt;
 *
 * @author 虎哥
 * @since 2021-12-22
 */
@Slf4j
@RestController
@RequestMapping(&quot;/user&quot;)
public class UserController &#123;

    @Resource
    private IUserService userService;

    @Resource
    private IUserInfoService userInfoService;

    @Autowired
    private StringRedisTemplate stringRedisTemplate;


    /**
     * 发送手机验证码
     */
    @PostMapping(&quot;code&quot;)
    public Result sendCode(@RequestParam(&quot;phone&quot;) String phone, HttpSession session) &#123;
        return userService.sendCode(phone, session);
    &#125;

    /**
     * 登录功能
     * @param loginForm 登录参数，包含手机号、验证码；或者手机号、密码
     */
    @PostMapping(&quot;/login&quot;)
    public Result login(@RequestBody LoginFormDTO loginForm, HttpSession session)&#123;
        String phone = loginForm.getPhone();
        // 校验手机号
        if (RegexUtils.isPhoneInvalid(phone)) &#123;
            return Result.fail(&quot;手机号格式错误！&quot;);
        &#125;
        // 校验验证码
//        Object cacheCode = session.getAttribute(&quot;code&quot;);
        // 从Redis中获取验证码并校验
        String cacheCode = stringRedisTemplate.opsForValue().get(SystemConstants.LOGIN_CODE_KEY + phone);
        String code = loginForm.getCode();

        // 不一致 报错
        if (cacheCode == null || !code.equals(cacheCode)) &#123;
            return Result.fail(&quot;验证码错误&quot;);
        &#125;

        // 存储

        // 一致 根据手机号查询用户 用mybatisplus
        User user = userService.getOne(lambdaQuery(User.class).eq(User::getPhone, phone));
        // 判断用户是否存在
        if (ObjectUtil.isEmpty(user)) &#123;
            // 不存在 创建新用户保存
            user = new User();
            user.setPhone(phone);
            user.setNickName(SystemConstants.USER_NICK_NAME_PREFIX + RandomUtil.randomString(10));
            userService.save(user);
        &#125;
        // 保存用户信息到redis中
        // 随机生成token，作为登录令牌
        String token = UUID.randomUUID().toString(true);
        // 将User对象转换为Hash存储
        UserDTO userDTO = BeanUtil.copyProperties(user, UserDTO.class);
        // 存储  用了putall 要把userDto转map
        Map&lt;String, Object&gt; userMap = BeanUtil.beanToMap(userDTO, new HashMap&lt;&gt;(),
                CopyOptions.create()
                        .setIgnoreNullValue(true)
                        .setFieldValueEditor((fieldName, fieldValue) -&gt; fieldValue.toString()));
        // 存储   因为存的时候不能设置有效期 要存完以后再去设置有效期
        String tokenKey = SystemConstants.LOGIN_CODE_TOKEN + token;
        stringRedisTemplate.opsForHash().putAll(tokenKey, userMap);
        // 设置token有效期 30min
        stringRedisTemplate.expire(tokenKey, SystemConstants.REDIS_TIMEOUT, TimeUnit.MINUTES);
        // 但是我要如果状态在 就不断更新token的有效期 【更新token有效期】



        // 存在 保存用户信息到session当中
//        UserDTO userDTO = new UserDTO();
//        userDTO.setId(user.getId());
//        userDTO.setNickName(user.getNickName());
//        userDTO.setPhone(user.getPhone());
        // 确保保存的是 UserDTO 对象
        session.setAttribute(&quot;user&quot;, BeanUtil.copyProperties(user, UserDTO.class));
        return Result.ok();
    &#125;

    /**
     * 登出功能
     * @return 无
     */
    @PostMapping(&quot;/logout&quot;)
    public Result logout()&#123;
        // TODO 实现登出功能
        return Result.fail(&quot;功能未完成&quot;);
    &#125;

    @GetMapping(&quot;/me&quot;)
    public Result me()&#123;
        // TODO 获取当前登录的用户并返回
        // userService.login(loginForm, session)
        UserDTO user = UserHolder.getUser();
        return Result.ok(user);
    &#125;

    @GetMapping(&quot;/info/&#123;id&#125;&quot;)
    public Result info(@PathVariable(&quot;id&quot;) Long userId)&#123;
        // 查询详情
        UserInfo info = userInfoService.getById(userId);
        if (info == null) &#123;
            // 没有详情，应该是第一次查看详情
            return Result.ok();
        &#125;
        info.setCreateTime(null);
        info.setUpdateTime(null);
        // 返回
        return Result.ok(info);
    &#125;
&#125;
</code></pre>
<h4 id="解决状态登录刷新的问题【双重拦截器】"><a href="#解决状态登录刷新的问题【双重拦截器】" class="headerlink" title="解决状态登录刷新的问题【双重拦截器】"></a>解决状态登录刷新的问题【双重拦截器】</h4><p>请求 → <strong>拦截器①</strong>(拦截一切路径)[<u>流程：获取token、查询Redis用户、保存到ThreadLocal、刷新Token有效期、放行</u>] → <strong>拦截器②</strong>(拦截需要登录的路径)[查询ThreadLocal的用户, 不存在则拦截、存在则继续]</p>
<pre><code class="java">com/hmdp/utils/LoginInterceptor.java
package com.hmdp.utils;

import cn.hutool.core.bean.BeanUtil;
import cn.hutool.core.util.ObjectUtil;
import cn.hutool.core.util.StrUtil;
import com.hmdp.dto.UserDTO;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.web.servlet.HandlerInterceptor;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.util.Map;
import java.util.concurrent.TimeUnit;

public class LoginInterceptor implements HandlerInterceptor &#123;
    // 这个类的对象是手动new出来的 没有通过Spring容器 所以需要通过构造方法去引用
    // 拦截器不能给spring容器因为每次都会经过它去访问

    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;
        // 判断是否需要拦截(ThreadLocal中是否有用户)
        if (UserHolder.getUser() == null) &#123;
            // 没有，需要拦截，设置状态码
            response.setStatus(401);
            // 拦截
            return false;
        &#125;
        // 有用户 放行
        return true;
    &#125;
&#125;
</code></pre>
<pre><code class="java">com/hmdp/utils/RefreshTokenInterceptor.java
package com.hmdp.utils;

import cn.hutool.core.bean.BeanUtil;
import cn.hutool.core.util.StrUtil;
import com.hmdp.dto.UserDTO;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.web.servlet.HandlerInterceptor;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.util.Map;
import java.util.concurrent.TimeUnit;

public class RefreshTokenInterceptor implements HandlerInterceptor &#123;
    // 这个类的对象是手动new出来的 没有通过Spring容器 所以需要通过构造方法去引用
    // 拦截器不能给spring容器因为每次都会经过它去访问
    private StringRedisTemplate stringRedisTemplate;

    public RefreshTokenInterceptor(StringRedisTemplate stringRedisTemplate) &#123;
        this.stringRedisTemplate = stringRedisTemplate;
    &#125;

    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;

        String token = request.getHeader(&quot;authorization&quot;);
        if (StrUtil.isBlank(token)) &#123;
            // 不存在：拦截，返回401状态码
//            response.setStatus(401);
            return true;
        &#125;
        String key = SystemConstants.LOGIN_CODE_TOKEN + token;
        Map&lt;Object, Object&gt; userMap = stringRedisTemplate.opsForHash().entries(key);
        // 判断用户是否存在
//        if (ObjectUtil.isEmpty(user)) &#123;
        if (userMap.isEmpty())&#123;
            // 不存在，拦截
//            response.setStatus(401);
            return true;
        &#125;
        // 将查询到的Hash数据转为UserDTO对象
        UserDTO userDTO = BeanUtil.fillBeanWithMap(userMap, new UserDTO(), false);

        // 存在，保存用户信息到ThreadLocal
//        UserDTO userDTO = (UserDTO) user; // 确保 user 已经是 UserDTO 类型
        UserHolder.saveUser(userDTO);
        // 刷新token有效期
        stringRedisTemplate.expire(key, SystemConstants.REDIS_TIMEOUT, TimeUnit.MINUTES);
        // 放行
        return true;
    &#125;

    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123;
        // 移除用户
        UserHolder.removeUser();
    &#125;
&#125;
</code></pre>
<pre><code class="java">com/hmdp/config/MvcConfig.java
package com.hmdp.config;

import com.hmdp.utils.LoginInterceptor;
import com.hmdp.utils.RefreshTokenInterceptor;
import org.springframework.context.annotation.Configuration;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.web.servlet.config.annotation.InterceptorRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

import javax.annotation.Resource;

@Configuration
public class MvcConfig implements WebMvcConfigurer &#123;
    @Resource
    private StringRedisTemplate stringRedisTemplate;
    @Override
    public void addInterceptors(InterceptorRegistry registry) &#123;
        // 登录拦截器
        registry.addInterceptor(new LoginInterceptor())
                .excludePathPatterns(
                        &quot;/shop/**&quot;,
                        &quot;/voucher/**&quot;,
                        &quot;/shop-type/**&quot;,
                        &quot;/upload/**&quot;,
                        &quot;/blog/hot&quot;,
                        &quot;/user/code&quot;,
                        &quot;/user/login&quot;
                ).order(1);
        // token刷新拦截器
        registry.addInterceptor(new RefreshTokenInterceptor(stringRedisTemplate)).addPathPatterns(&quot;/**&quot;).order(0);
    &#125;
&#125;
</code></pre>
<h4 id="商户查询缓存—练习题"><a href="#商户查询缓存—练习题" class="headerlink" title="商户查询缓存—练习题"></a>商户查询缓存—练习题</h4><pre><code class="java">com/hmdp/controller/ShopTypeController.java
/**
 * &lt;p&gt;
 * 前端控制器
 * &lt;/p&gt;
 *
 * @author 虎哥
 * @since 2021-12-22
 */
@RestController
@RequestMapping(&quot;/shop-type&quot;)
public class ShopTypeController &#123;
    @Resource
    private IShopTypeService typeService;

    @GetMapping(&quot;list&quot;)
    public Result queryTypeList() &#123;
//        List&lt;ShopType&gt; typeList = typeService
//                .query().orderByAsc(&quot;sort&quot;).list();
//        return Result.ok(typeList);
        return typeService.listShop();
    &#125;
</code></pre>
<pre><code class="java">com/hmdp/service/impl/ShopTypeServiceImpl.java
/**
 * &lt;p&gt;
 *  服务实现类
 * &lt;/p&gt;
 * @since 2021-12-22
 */
@Service
public class ShopTypeServiceImpl extends ServiceImpl&lt;ShopTypeMapper, ShopType&gt; implements IShopTypeService &#123;

    @Resource
    private StringRedisTemplate stringRedisTemplate;
    @Override
    public Result listShop() &#123;
        String shopTypeCache = stringRedisTemplate.opsForValue().get(SystemConstants.CACHE_SHOP_TYPE_KEY);

        if (ObjectUtil.isNotEmpty(shopTypeCache)) &#123;
            Long ttl = stringRedisTemplate.getExpire(SystemConstants.CACHE_SHOP_TYPE_KEY, TimeUnit.MINUTES);
            System.out.println(&quot;TTL for CACHE_SHOP_TYPE_KEY: &quot; + ttl + &quot; minutes&quot;);
            List&lt;ShopType&gt; shopTypeList = JSONUtil.toList(shopTypeCache, ShopType.class);
            return Result.ok(shopTypeList);
        &#125;



        List&lt;ShopType&gt; queryShopTypeList = query().orderByAsc(&quot;sort&quot;).list();
        if (ObjectUtil.isEmpty(queryShopTypeList)) &#123;
            return Result.fail(&quot;查询失败&quot;);
        &#125;
        stringRedisTemplate.opsForValue().set(SystemConstants.CACHE_SHOP_TYPE_KEY, JSONUtil.toJsonStr(queryShopTypeList), SystemConstants.SHOP_TYPE_TTL, TimeUnit.MINUTES);
        return Result.ok(queryShopTypeList);
    &#125;
&#125;
</code></pre>
<h4 id="添加商铺缓存"><a href="#添加商铺缓存" class="headerlink" title="添加商铺缓存"></a>添加商铺缓存</h4><pre><code class="java">com/hmdp/service/impl/ShopServiceImpl.java
package com.hmdp.service.impl;

import cn.hutool.core.util.ObjectUtil;
import cn.hutool.json.JSONUtil;
import com.hmdp.dto.Result;
import com.hmdp.entity.Shop;
import com.hmdp.mapper.ShopMapper;
import com.hmdp.service.IShopService;
import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import com.hmdp.utils.SystemConstants;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.stereotype.Service;

import javax.annotation.Resource;

/**
 * &lt;p&gt;
 *  服务实现类
 * &lt;/p&gt;
 *
 * @author 虎哥
 * @since 2021-12-22
 */
@Service
public class ShopServiceImpl extends ServiceImpl&lt;ShopMapper, Shop&gt; implements IShopService &#123;

    @Resource
    private StringRedisTemplate stringRedisTemplate;

    @Override
    public Result queryById(Long id) &#123;
        // 从redis中查询商铺缓存
        String shopJson = stringRedisTemplate.opsForValue().get(SystemConstants.CACHE_SHOP_KEY + id);
        // 判断是否存在
        if (ObjectUtil.isNotEmpty(shopJson)) &#123;
            // 存在，直接返回
            Shop shop = JSONUtil.toBean(shopJson, Shop.class);
            return Result.ok(shop);
        &#125;
        // 不存在，根据id查询数据库
        Shop shop = getById(id);
        // 不存在，返回错误
        if (ObjectUtil.isEmpty(shop)) &#123;
            return Result.fail(&quot;店铺不存在&quot;);
        &#125;
        // 存在，写入redis
        stringRedisTemplate.opsForValue().set(SystemConstants.CACHE_SHOP_KEY + id, JSONUtil.toJsonStr(shop));
        // 返回
        return Result.ok(shop);
    &#125;
&#125;
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/a0152529cf933c8a2b70030f2d0869f8e7c6579e/%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5.png"></p>
<h4 id="实现商铺缓存与数据库的双写一致性"><a href="#实现商铺缓存与数据库的双写一致性" class="headerlink" title="实现商铺缓存与数据库的双写一致性"></a>实现商铺缓存与数据库的双写一致性</h4><h6 id="先更新后删除"><a href="#先更新后删除" class="headerlink" title="先更新后删除"></a>先更新后删除</h6><pre><code class="java">com/hmdp/controller/ShopController.java
 /**
     * 更新商铺信息
     * @param shop 商铺数据
     * @return 无
     */
    @PutMapping
    public Result updateShop(@RequestBody Shop shop) &#123;
//        shopService.updateById(shop);
        return shopService.update(shop);

    &#125;
</code></pre>
<pre><code class="java">com/hmdp/service/impl/ShopServiceImpl.java
@Override
    public Result update(Shop shop) &#123;
        Long id = shop.getId();
        if (ObjectUtil.isEmpty(id)) &#123;
            return Result.fail(&quot;店铺id不能为空&quot;);
        &#125;
        // 更新数据库
        updateById(shop);
        // 删除缓存
        stringRedisTemplate.delete(SystemConstants.CACHE_SHOP_KEY + id);
        return Result.ok();
    &#125;
</code></pre>
<h4 id="缓存穿透的解决思路"><a href="#缓存穿透的解决思路" class="headerlink" title="缓存穿透的解决思路"></a>缓存穿透的解决思路</h4><ul>
<li><h6 id="缓存空对象"><a href="#缓存空对象" class="headerlink" title="缓存空对象"></a>缓存空对象</h6><ul>
<li><strong>优点</strong>：实现简单，维护方便</li>
<li><strong>缺点</strong>：<ul>
<li>额外的内存消耗</li>
<li>可能造成短期的不一致</li>
</ul>
</li>
</ul>
<blockquote>
<p>缓存null的时候加一个TTL</p>
</blockquote>
</li>
<li><h6 id="布隆过滤器算法-bitMap数组用Hash值去判断"><a href="#布隆过滤器算法-bitMap数组用Hash值去判断" class="headerlink" title="布隆过滤器算法[bitMap数组用Hash值去判断]"></a>布隆过滤器<del>算法</del>[bitMap数组用Hash值去判断]</h6><ul>
<li><strong>优点</strong>：内存占用较少，没有多余key</li>
<li><strong>缺点</strong>：<ul>
<li>实现复杂</li>
<li>存在误判可能</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="缓存击穿的解决思路"><a href="#缓存击穿的解决思路" class="headerlink" title="缓存击穿的解决思路"></a>缓存击穿的解决思路</h4><ul>
<li><h6 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h6></li>
<li><h6 id="逻辑过期"><a href="#逻辑过期" class="headerlink" title="逻辑过期"></a>逻辑过期</h6></li>
</ul>
<h4 id="缓存雪崩的解决思路"><a href="#缓存雪崩的解决思路" class="headerlink" title="缓存雪崩的解决思路"></a>缓存雪崩的解决思路</h4><ul>
<li><h6 id="给不同的key的TTL添加随机值"><a href="#给不同的key的TTL添加随机值" class="headerlink" title="给不同的key的TTL添加随机值"></a>给不同的key的TTL添加随机值</h6></li>
<li><p>利用Redis集群提高服务的可用性</p>
</li>
<li><p>给缓存业务添加降级限流策略</p>
</li>
<li><p>给业务添加多级缓存</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/04fe92d2f230e21ce689b82308a43cd4e944d086/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%AD%89%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0.png"></p>
<h4 id="利用互斥锁解决缓存击穿问题setnx设置一把锁"><a href="#利用互斥锁解决缓存击穿问题setnx设置一把锁" class="headerlink" title="利用互斥锁解决缓存击穿问题setnx设置一把锁"></a>利用互斥锁解决缓存击穿问题<del>setnx设置一把锁</del></h4><p><code>setnx</code>当key不存在的时候才会写入<del>赋值</del><br><code>del lock</code><del>释放锁</del>、<br><code>setnx lock </code>获取锁赋值</p>
<blockquote>
<p>在linux中如果用的docker那么就用它<br>docker连接redis<br>首先先找到redis的镜像编码<br><code>docker ps</code><br>找到以后<br><code>docker exec -it 5832be55766e redis-cli</code></p>
</blockquote>
<pre><code class="java">[root@localhost ~]# docker exec -it 5832be55766e redis-cli
127.0.0.1:6379&gt; AUTH pass
OK
127.0.0.1:6379&gt; setnx lock 1
(integer) 1
127.0.0.1:6379&gt; get lock
&quot;1&quot;
127.0.0.1:6379&gt; setnx lock 2
(integer) 0
127.0.0.1:6379&gt; setnx lock 3
(integer) 0
127.0.0.1:6379&gt; setnx lock 2
(integer) 0
127.0.0.1:6379&gt; get lock
&quot;1&quot;
127.0.0.1:6379&gt; del lock
(integer) 1
127.0.0.1:6379&gt; setnx lock 3
(integer) 1
    
--------------------------------------------------------------------------
// 加个有效期TTL 避免锁得不到释放 产生死锁
 private boolean tryLock(String key) &#123;
        Boolean flag = stringRedisTemplate.opsForValue().setIfAbsent(key, &quot;1&quot;, 10, TimeUnit.SECONDS);
    // 防止自动拆箱产生空值
        return BooleanUtil.isTrue(flag);
    &#125;

// 释放锁
private void unlock(String key) &#123;
        stringRedisTemplate.delete(key);
    &#125;
</code></pre>
<blockquote>
<p><code>SETNX</code> 是 Redis 的一个命令，它是 “SET if Not eXists” 的缩写，用于在键不存在时设置键的值。如果键已经存在，<code>SETNX</code> 命令不会执行任何操作，并返回 <code>0</code>；如果键不存在，它会设置键的值，并返回 <code>1</code>。</p>
<p>在分布式锁的实现中，<code>SETNX</code> 命令经常被用来尝试获取锁。如果某个键（通常用作锁的标识）不存在，则设置该键并获取锁；如果键已经存在，表示锁已经被其他客户端持有，因此当前客户端无法获取锁。</p>
<p>以下是 <code>SETNX</code> 命令的基本用法：</p>
<pre><code>SETNX key value
</code></pre>
<ul>
<li><code>key</code>：你想要设置的键名。</li>
<li><code>value</code>：你想要设置的值。</li>
</ul>
<p>从 Redis 2.6.12 版本开始，<code>SETNX</code> 命令被 <code>SET</code> 命令的一个选项所取代，该选项允许你执行类似于 <code>SETNX</code> 的操作，同时还能设置键的超时时间（过期时间），这在实现分布式锁时非常有用。以下是使用 <code>SET</code> 命令的示例：</p>
<pre><code>SET key value [EX seconds] [PX milliseconds] [NX|XX]
</code></pre>
<ul>
<li><code>EX seconds</code>：设置键的过期时间为 seconds 秒。</li>
<li><code>PX milliseconds</code>：设置键的过期时间为 milliseconds 毫秒。</li>
<li><code>NX</code>：只在键不存在时执行设置操作。</li>
<li><code>XX</code>：只在键已经存在时执行设置操作。</li>
</ul>
<p>因此，现代的分布式锁实现通常会使用如下命令：</p>
<pre><code>SET lock_key unique_value EX 30 NX
</code></pre>
<p>这里，<code>lock_key</code> 是锁的键名，<code>unique_value</code> 是一个确保释放锁时安全的唯一值（通常是当前时间戳加上一个随机数或者客户端ID），<code>EX 30</code> 设置了键的超时时间为30秒，<code>NX</code> 确保只有在键不存在时才设置键。</p>
<h3 id="互斥锁的实现"><a href="#互斥锁的实现" class="headerlink" title="互斥锁的实现"></a>互斥锁的实现</h3><p>互斥锁通常用于单机应用，确保同一时刻只有一个线程可以执行某个操作。以下是一个简单的示例：</p>
<p>java</p>
<p>复制</p>
<pre><code class="java">import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.data.redis.core.ValueOperations;

public class MutexLock &#123;
    private final StringRedisTemplate redisTemplate;
    private final String lockKey = &quot;mutex_lock_key&quot;;

    public MutexLock(StringRedisTemplate redisTemplate) &#123;
        this.redisTemplate = redisTemplate;
    &#125;

    public boolean tryLock() &#123;
        ValueOperations&lt;String, String&gt; ops = redisTemplate.opsForValue();
        // 尝试设置锁，如果设置成功返回true，否则返回false
        return ops.setIfAbsent(lockKey, &quot;locked&quot;);
    &#125;

    public void unlock() &#123;
        // 删除锁
        redisTemplate.delete(lockKey);
    &#125;
&#125;
</code></pre>
<h3 id="分布式锁的实现"><a href="#分布式锁的实现" class="headerlink" title="分布式锁的实现"></a>分布式锁的实现</h3><p>分布式锁用于分布式系统，确保在多个不同的机器或服务中只有一个可以执行某个操作。以下是一个简单的示例：</p>
<p>java</p>
<p>复制</p>
<pre><code class="java">import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.data.redis.core.ValueOperations;

public class DistributedLock &#123;
    private final StringRedisTemplate redisTemplate;
    private final String lockKey = &quot;distributed_lock_key&quot;;
    private final long lockTimeout = 30000; // 锁超时时间，例如30秒

    public DistributedLock(StringRedisTemplate redisTemplate) &#123;
        this.redisTemplate = redisTemplate;
    &#125;

    public boolean tryLock() &#123;
        ValueOperations&lt;String, String&gt; ops = redisTemplate.opsForValue();
        // 尝试设置锁，并设置超时时间
        Boolean success = ops.setIfAbsent(lockKey, &quot;locked&quot;, lockTimeout, TimeUnit.MILLISECONDS);
        return Boolean.TRUE.equals(success);
    &#125;

    public void unlock() &#123;
        // 删除锁
        redisTemplate.delete(lockKey);
    &#125;
&#125;
</code></pre>
</blockquote>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/00e106e4ef12663d48fd34c4849e5d30acd794f4/%E4%BA%92%E6%96%A5%E9%94%81+%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7Jmeter.png"></p>
<h4 id="基于逻辑过期方式解决缓存击穿的问题"><a href="#基于逻辑过期方式解决缓存击穿的问题" class="headerlink" title="基于逻辑过期方式解决缓存击穿的问题"></a>基于<u>逻辑过期</u>方式解决缓存击穿的问题</h4><p>不要直接在类中添加逻辑过期的字段，这样对代码不好<br>① 搞一个<code>RedisData</code>.java 设置一个逻辑过期 然后再去实现<strong>继承</strong><br>② RedisData中搞一个<code>private Object data;</code><br>热点数据需要提前导入</p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/d4783e106b8e01a6c730c3c0b2186a5cc3121e8f/%E5%9F%BA%E4%BA%8E%E9%80%BB%E8%BE%91%E8%BF%87%E6%9C%9F%E6%96%B9%E5%BC%8F%E8%A7%A3%E5%86%B3%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF.png"></p>
<h4 id="封装Redis工具类"><a href="#封装Redis工具类" class="headerlink" title="封装Redis工具类"></a>封装Redis工具类</h4><h6 id="基于StringRedisTemplate封装一个缓存工具类，满足下列需求"><a href="#基于StringRedisTemplate封装一个缓存工具类，满足下列需求" class="headerlink" title="基于StringRedisTemplate封装一个缓存工具类，满足下列需求:"></a>基于StringRedisTemplate封装一个缓存工具类，满足下列需求:</h6><p>方法1：将任意Java对象序列化为json并存储在string类型的key中，并且可以设置TTL过期时间<br>方法2：将任意Java对象序列化为json并存储在string类型的key中，并且可以设置逻辑过期时间，用于处理缓存击<br>穿问题<br>方法3：根据指定的key查询缓存，并反序列化为指定类型，利用缓存空值的方式解决缓存穿透问题<br>方法4：根据指定的key查询缓存，并反序列化为指定类型，需要利用逻辑过期解决缓存击穿问题</p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/527a96a618486f36b423b4aded775cbf489d94aa/%E5%B0%81%E8%A3%85Redis%E5%B7%A5%E5%85%B7%E7%B1%BB.png"></p>
<h4 id="Redis总结"><a href="#Redis总结" class="headerlink" title="Redis总结"></a>Redis总结</h4><p><img src="https://raw.githubusercontent.com/P-luminary/images/746223fa0c9480af5734a475c39fc0e0fdff0fbe/Redis%E6%80%BB%E7%BB%93.png"></p>
<h4 id="优惠券秒杀—全局唯一ID"><a href="#优惠券秒杀—全局唯一ID" class="headerlink" title="优惠券秒杀—全局唯一ID"></a>优惠券秒杀—全局唯一ID</h4><p>全局唯一ID生成策略：</p>
<ul>
<li>UUID</li>
<li>Redis自增</li>
<li>snowflake算法</li>
<li>数据库自增</li>
</ul>
<p>Redis自增ID策略：</p>
<ul>
<li>每天一个Key，方便统计订单量</li>
<li>ID构造是 <strong>时间戳 + 计数器</strong></li>
</ul>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/3bc6364424551cf0537adafeaccc461f2cc079b6/%E4%BC%98%E6%83%A0%E5%88%B8%E7%A7%92%E6%9D%80%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%80%E5%94%AF%E4%B8%80id.png"></p>
<h4 id="添加优惠券秒杀针对特价券"><a href="#添加优惠券秒杀针对特价券" class="headerlink" title="添加优惠券秒杀针对特价券"></a>添加优惠券<del>秒杀针对特价券</del></h4><p>每个店铺都可以发布优惠券，分为<strong>平价券</strong>和<strong>特价券</strong>。</p>
<p>平价券可以任意购买，而特价券需要秒杀抢购：</p>
<ul>
<li><code>tb_voucher</code>：优惠券的基本信息，优惠金额、使用规则等</li>
<li><code>tb_seckill_voucher</code>：<strong>优惠券的库存</strong>、<strong>开始抢购时间</strong>、<strong>结束抢购时间</strong>。特价优惠券才需要填写这些信息</li>
</ul>
<pre><code class="mysql">[root@localhost ~]# docker ps
CONTAINER ID   IMAGE                         COMMAND                  CREATED         STATUS             PORTS                                                                                                                                NAMES
03154afad287   seataio/seata-server:1.4.2    &quot;java -Djava.securit…&quot;   11 months ago   Up About an hour   8091/tcp, 0.0.0.0:9200-&gt;9200/tcp, :::9200-&gt;9200/tcp                                                                                  seata-server
c34a590a5649   xuxueli/xxl-job-admin:2.1.2   &quot;sh -c &#39;java -jar /a…&quot;   11 months ago   Up About an hour   0.0.0.0:8280-&gt;8080/tcp, :::8280-&gt;8080/tcp                                                                                            xxl-job-admin
3574b316b5d2   nacos/nacos-server:1.4.0      &quot;bin/docker-startup.…&quot;   11 months ago   Up About an hour   0.0.0.0:8848-&gt;8848/tcp, :::8848-&gt;8848/tcp                                                                                            nacos
951e83eb8120   rabbitmq:3.8.3-management     &quot;docker-entrypoint.s…&quot;   11 months ago   Up About an hour   4369/tcp, 5671/tcp, 0.0.0.0:5672-&gt;5672/tcp, :::5672-&gt;5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672-&gt;15672/tcp, :::15672-&gt;15672/tcp   rabbitmq
6561e8458fa2   influxdb:1.8.0                &quot;/entrypoint.sh infl…&quot;   11 months ago   Up About an hour   0.0.0.0:8086-&gt;8086/tcp, :::8086-&gt;8086/tcp, 0.0.0.0:8088-&gt;8088/tcp, :::8088-&gt;8088/tcp, 0.0.0.0:9083-&gt;8083/tcp, :::9083-&gt;8083/tcp      influxdb
5832be55766e   redis:5.0.0                   &quot;docker-entrypoint.s…&quot;   11 months ago   Up About an hour   0.0.0.0:6379-&gt;6379/tcp, :::6379-&gt;6379/tcp                                                                                            redis
07ecd8b04853   mysql:5.7                     &quot;docker-entrypoint.s…&quot;   11 months ago   Up About an hour   0.0.0.0:3306-&gt;3306/tcp, :::3306-&gt;3306/tcp, 33060/tcp                                                                                 mysql
[root@localhost ~]# docker exec -it 5832be55766e redis-cli
127.0.0.1:6379&gt; AUTH pass
</code></pre>
<img src="https://raw.githubusercontent.com/P-luminary/images/99d8cd096fcb0717db285cd3e17f449695ef106a/%E4%BC%98%E6%83%A0%E5%88%B8%E7%A7%92%E6%9D%80-%E6%B7%BB%E5%8A%A0%E4%BC%98%E6%83%A0%E5%88%B8.png" style="zoom:200%;" />



<h4 id="库存超卖问题分析每秒上百上千的并发"><a href="#库存超卖问题分析每秒上百上千的并发" class="headerlink" title="库存超卖问题分析每秒上百上千的并发"></a>库存超卖问题分析<del>每秒上百上千的并发</del></h4><p>超卖问题是经典的多线程安全问题，针对这一问题的常见解决方案就是加锁：<br><img src="https://raw.githubusercontent.com/P-luminary/images/63d691cb03a76ddb679a813165d0febe0de575d7/%E5%BA%93%E5%AD%98%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98.png"></p>
<h4 id="秒杀-→-一人一单拒绝黄牛"><a href="#秒杀-→-一人一单拒绝黄牛" class="headerlink" title="秒杀 → 一人一单拒绝黄牛"></a>秒杀 → 一人一单<del>拒绝黄牛</del></h4><h6 id="要求：修改秒杀业务，要求同一个优惠券，一个用户只能下一单"><a href="#要求：修改秒杀业务，要求同一个优惠券，一个用户只能下一单" class="headerlink" title="要求：修改秒杀业务，要求同一个优惠券，一个用户只能下一单"></a>要求：修改秒杀业务，要求同一个优惠券，一个用户只能下一单</h6><p><img src="https://raw.githubusercontent.com/P-luminary/images/bfdbe9efd534705181780aeb3072f72c365da1b8/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%BA%BA%E4%B8%80%E5%8D%95%E5%8A%9F%E8%83%BD.png"></p>
<h4 id="集群下线程的并发安全问题"><a href="#集群下线程的并发安全问题" class="headerlink" title="集群下线程的并发安全问题"></a>集群下线程的并发安全问题</h4><p><img src="https://raw.githubusercontent.com/P-luminary/images/38a76e0ddf9fa883d7d1532476c95f642579d0be/%E9%9B%86%E7%BE%A4%E4%B8%8B%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98.png"></p>
<h4 id="分布式锁-—-基本原理"><a href="#分布式锁-—-基本原理" class="headerlink" title="分布式锁 — 基本原理"></a>分布式锁 — 基本原理</h4><p><strong>分布式锁：</strong>满足分布式系统或集群模式下多进程可见并且互斥的锁</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">MySQL</th>
<th align="center"><span style = "color:red">Redis</span></th>
<th align="center">Zookeeper</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>互斥</strong></td>
<td align="center">利用mysql本身的互斥锁机制</td>
<td align="center">利用setnx这样的互斥命令</td>
<td align="center">利用节点的唯一性和有序性实现互斥</td>
</tr>
<tr>
<td align="center"><strong>高可用</strong></td>
<td align="center">好</td>
<td align="center">好</td>
<td align="center">好</td>
</tr>
<tr>
<td align="center"><strong>高性能</strong></td>
<td align="center">一般</td>
<td align="center">好</td>
<td align="center">一般</td>
</tr>
<tr>
<td align="center"><strong>安全性</strong></td>
<td align="center">断开连接，自动释放锁</td>
<td align="center">利用锁超时时间，到期释放</td>
<td align="center">临时节点，断开连接自动释放</td>
</tr>
</tbody></table>
<h4 id="基于Redis的分布式锁"><a href="#基于Redis的分布式锁" class="headerlink" title="基于Redis的分布式锁"></a>基于Redis的分布式锁</h4><h6 id="实现分布式锁时需要实现的两个基本方法：获取锁、释放锁"><a href="#实现分布式锁时需要实现的两个基本方法：获取锁、释放锁" class="headerlink" title="实现分布式锁时需要实现的两个基本方法：获取锁、释放锁"></a>实现分布式锁时需要实现的两个基本方法：获取锁、释放锁</h6><p><img src="https://raw.githubusercontent.com/P-luminary/images/6163af54f533691c19524073894f9fa1647279dd/Redis%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81-%E7%89%88%E6%9C%AC1.png"></p>
<h4 id="改进Redis的分布式锁"><a href="#改进Redis的分布式锁" class="headerlink" title="改进Redis的分布式锁"></a>改进Redis的分布式锁</h4><p><img src="https://raw.githubusercontent.com/P-luminary/images/fa5a1ec0c1de3b9a21cb175f1c336956db237ef2/Redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E8%AF%AF%E5%88%A0%E9%97%AE%E9%A2%98.png"></p>
<h4 id="Redis的事务：可以使用看门狗"><a href="#Redis的事务：可以使用看门狗" class="headerlink" title="Redis的事务：可以使用看门狗"></a>Redis的事务：可以使用看门狗</h4><h4 id="Redis的Lua脚本利用Lua去调用Redis-确保原子的一致性"><a href="#Redis的Lua脚本利用Lua去调用Redis-确保原子的一致性" class="headerlink" title="Redis的Lua脚本利用Lua去调用Redis(确保原子的一致性)"></a>Redis的Lua脚本<del>利用Lua去调用Redis(确保原子的一致性)</del></h4><p>Redis提供了Lua脚本功能，在一个脚本中编写多条Redis命令，确保多条命令执行时的原子性。Lua是一种编程语言，它的基本语法大家可以参考网站:<a target="_blank" rel="noopener" href="https://www.runoob.com/lua/lua-tutorial.html">https://www.runoob.com/lua/lua-tutorial.html</a></p>
<p><code>redis.call(&#39;命令名称&#39;, &#39;key&#39;, &#39;其他参数&#39;, ...)</code></p>
<p>例如我们要执行<u>set name jack</u>，则脚本是这样：<br><code>redis.call(&#39;set&#39;, &#39;name&#39;, &#39;jack&#39;)</code></p>
<p>例如我们要先执行<u>set name Rose</u>，再执行<u>get name</u>，则脚本如下：</p>
<pre><code class="mysql"># 先执行 set name jack
redis.call(&#39;set&#39;, &#39;name&#39;, &#39;jack&#39;)

# 再执行 get name
local name = redis.call(&#39;get&#39;, &#39;name&#39;)

# 返回
return name
</code></pre>
<h6 id="执行Lua脚本"><a href="#执行Lua脚本" class="headerlink" title="执行Lua脚本"></a>执行Lua脚本</h6><p>写好脚本后，需要用Redis命令来调用脚本，调用脚本的常见命令如下：</p>
<pre><code class="java">127.0.0.1:6379&gt; help @scripting
EVAL script numkeys key [key ...] arg [arg ...]
</code></pre>
<p>要执行<code>redis.call(&#39;set&#39;, &#39;name&#39;, &#39;jack&#39;)</code>这个脚本，语法如下：</p>
<pre><code class="mysql"># 调用脚本 [0是脚本需要的key类型的参数个数 =&gt; 传参的变量]
EVAL &quot;return redis.call(&#39;set&#39;, &#39;name&#39;, &#39;jack&#39;)&quot;  0
</code></pre>
<pre><code class="mysql"># 不带变量
127.0.0.1:6379&gt; EVAL &quot;return redis.call(&#39;set&#39;, &#39;name&#39;, &#39;Jack&#39;)&quot; 0
OK
127.0.0.1:6379&gt; keys *
1) &quot;name&quot;
127.0.0.1:6379&gt; get name
&quot;Jack&quot;
</code></pre>
<p>如果脚本中的key、value不想写死，可以作为参数传递。key类型参数会放入KEYS数组，其它参数会放入ARGV数组，在脚本中可以从KEYS和ARGV数组获取这些参数:【<u>lua语言数组脚标是从1开始的</u>】</p>
<pre><code class="mysql"># 调用脚本【初始版】
127.0.0.1:6379&gt; EVAL &quot;return redis.call(&#39;set&#39;, &#39;name&#39;, &#39;Jack&#39;)&quot; 0
# 调用脚本【进阶版】
127.0.0.1:6379&gt; EVAL &quot;return redis.call(&#39;set&#39;, KEYS[1], ARGV[1])&quot; 1 name Rose
OK
127.0.0.1:6379&gt; get name
&quot;Rose&quot;
127.0.0.1:6379&gt; EVAL &quot;return redis.call(&#39;set&#39;, KEYS[1], ARGV[1])&quot; 1 name heihei
OK
127.0.0.1:6379&gt; get name
&quot;heihei&quot;
</code></pre>
<h3 id="基于Redis的分布式锁-1"><a href="#基于Redis的分布式锁-1" class="headerlink" title="基于Redis的分布式锁"></a>基于Redis的分布式锁</h3><h6 id="释放锁的业务流程是这样的："><a href="#释放锁的业务流程是这样的：" class="headerlink" title="释放锁的业务流程是这样的："></a>释放锁的业务流程是这样的：</h6><p>1.获取锁中的线程标示<br>2.判断是否与指定的标示 (当前线程标示) 一致<br>3.如果一致则释放锁 (删除)<br>4.如果不一致则什么都不做</p>
<pre><code class="lua">-- 锁的key
-- local key = &quot;lock:order:5&quot;
-- 不能写死就传参
local threadId = KEYS[1]

-- 当前线程标示
-- local threadId = &quot;fagsidajkldw-33&quot;
-- 不能写死就传参
local threadId = ARGV[1]

-- 获取锁中的线程标识 get key
local id = redis.call(&#39;get&#39;, key)
-- 比较线程标示与锁中的标示是否一致
if(id == threadId) then
   -- 释放锁 del key
   return redis.call(&#39;del&#39;, key)
end
return 0

----------------------------- 进阶版 -------------------------------
-- 获取锁中的线程标识 get key
local id = redis.call(&#39;get&#39;, KEYS[1])
-- 比较线程标示与锁中的标示是否一致
if(id == ARGV[1]) then
   -- 释放锁 del key
   return redis.call(&#39;del&#39;, KEYS[1])
end
return 0
----------------------------- 进阶简化版 -------------------------------
-- 这里KEYS[1]就是锁的Key, 这里的ARGV[1]，就是当前线程标示
-- 获取锁中的标示，判断是否与当前线程标示一致
if(redis.call(&#39;GET&#39;, KEYS[1]) == ARGV[1]) then
    -- 一致，则删除锁
    return redis.call(&#39;DEL&#39;, KEYS[1])
end
-- 不一致 直接返回
return 0
</code></pre>
<h4 id="再次改进Redis的分布式锁经典白雪"><a href="#再次改进Redis的分布式锁经典白雪" class="headerlink" title="再次改进Redis的分布式锁经典白雪"></a>再次改进Redis的分布式锁<del>经典白雪</del></h4><blockquote>
<p><strong>基于Redis的分布式锁实现思路</strong>：<br>利用setnx ex获取锁，并设置过期时间，保存线程标示<br>释放锁时先判断线程标示是否与自己一致，一致则删除锁</p>
<p><strong>特性</strong>:<br>利用set nx满足互斥性<br>利用set ex保证故障时锁依然能释放，避免死锁，提高安全性<br>利用Redis集群保证高可用和高并发特性</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/da9c8cc0f1141222278c8180a2f75b8d59036486/Lua%E8%84%9A%E6%9C%AC%E7%9C%9F%E5%AE%9E%E6%A1%88%E4%BE%8B.png"></p>
<p>需求：基于**<code>Lua脚本</code>**实现分布式锁的释放锁逻辑<br>提示：<code>RedisTemplate</code>调用Lua脚本的API如下：</p>
<pre><code class="java">com/hmdp/utils/SimpleRedisLock.java
package com.hmdp.utils;

import cn.hutool.core.lang.UUID;
import org.springframework.core.io.ClassPathResource;
import org.springframework.data.redis.core.StringRedisTemplate;
import org.springframework.data.redis.core.script.DefaultRedisScript;

import java.util.Collections;
import java.util.concurrent.TimeUnit;

public class SimpleRedisLock implements ILock &#123;

    // 不同业务不同锁
    private String name;
    private StringRedisTemplate stringRedisTemplate;
    private static final String KEY_PREFIX = &quot;lock:&quot;;
    private static final String ID_PREFIX = UUID.randomUUID().toString(true) + &quot;-&quot;;
    private static final DefaultRedisScript&lt;Long&gt; UNLOCK_SCRIPT;

    // 是静态的要在静态代码块里面做初始化 这个类一加载 这个代码块就初始化完成了 不用每次释放锁再加载
    static &#123;
        UNLOCK_SCRIPT = new DefaultRedisScript&lt;&gt;();
        UNLOCK_SCRIPT.setLocation(new ClassPathResource(&quot;unlock.lua&quot;));
        UNLOCK_SCRIPT.setResultType(Long.class);
    &#125;

    public SimpleRedisLock(String name,
                           StringRedisTemplate stringRedisTemplate) &#123;
        this.name = name;
        this.stringRedisTemplate = stringRedisTemplate;
    &#125;

    @Override
    public boolean tryLock(long timeoutSec) &#123;
        // 获取线程标识
        String threadId = ID_PREFIX + Thread.currentThread().getId();
        // 获取锁
        Boolean success = stringRedisTemplate.opsForValue()
                .setIfAbsent(KEY_PREFIX + name,
                        threadId,
                        timeoutSec,
                        TimeUnit.SECONDS);
        // 自动拆箱避免空指针风险
        return Boolean.TRUE.equals(success);
    &#125;

    @Override
    public void unLock() &#123;
        // 调用lua脚本
        stringRedisTemplate.execute(
                UNLOCK_SCRIPT,
                // 制造单集合
                Collections.singletonList(KEY_PREFIX + name),
                ID_PREFIX + Thread.currentThread().getId());
    &#125;

    //    public void unLock() &#123;
//        // 获取线程标识
//        String threadId = ID_PREFIX + Thread.currentThread().getId();
//        // 获取锁
//        String id = stringRedisTemplate.opsForValue().get(KEY_PREFIX + name);
//        // 判断锁是否ours
//        if (threadId.equals(id)) &#123;
//            // 解锁
//            stringRedisTemplate.delete(KEY_PREFIX + name);
//        &#125;
//    &#125;
&#125;
</code></pre>
<h4 id="基于Redis的分布式锁优化"><a href="#基于Redis的分布式锁优化" class="headerlink" title="基于Redis的分布式锁优化"></a>基于Redis的分布式锁优化</h4><h6 id="基于setnx实现的分布式锁存在下面的问题："><a href="#基于setnx实现的分布式锁存在下面的问题：" class="headerlink" title="基于setnx实现的分布式锁存在下面的问题："></a>基于setnx实现的分布式锁存在下面的问题：</h6><ul>
<li><strong>不可重入</strong>：同一个线程无法多次获取同一把锁</li>
<li><strong>不可重试</strong>：获取锁只尝试一次就返回false，没有重试机制</li>
<li><strong>超时释放</strong>：锁超时释放虽然可以避免死锁，但如果是业务执行耗时较长，也会导致锁释放，存在安全隐患</li>
<li><strong>主从一致性</strong>：如果Redis提供了主从集群 [<u><strong>写操作访问主节点，读操作访问从节点</strong></u>]，主从同步存在延迟，当主宕机时，如果从并同步主中的锁数据，则会出现锁实现</li>
</ul>
<h4 id="Redisson"><a href="#Redisson" class="headerlink" title="Redisson"></a>Redisson</h4><p>Redisson是一个在Redis的基础上实现的]ava驻内存数据网格(In-MemoryData Grid)。它不仅提供了一系列的分布式的Java常用对象，还提供了许多分布式服务，其中就包含了各种分布式锁的实现。</p>
<p><a target="_blank" rel="noopener" href="https://redisson.org/">Redisson—官方网站</a><br><a target="_blank" rel="noopener" href="https://github.com/redisson/redisson">Redisson—GitHub地址</a></p>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/c7bee5bcd50d5eaa3d97e6d131d811376dec9dc8/Redisson%E5%85%A5%E9%97%A8.png"></p>
<h4 id="Redisson可重入锁原理"><a href="#Redisson可重入锁原理" class="headerlink" title="Redisson可重入锁原理"></a>Redisson可重入锁原理</h4><pre><code class="java">package com.hmdp;

import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.redisson.api.RLock;
import org.redisson.api.RedissonClient;
import org.springframework.boot.test.context.SpringBootTest;

import javax.annotation.Resource;
import java.util.concurrent.TimeUnit;

@Slf4j
@SpringBootTest
class RedissonTest &#123;

    @Resource
    private RedissonClient redissonClient;

    private RLock lock;

    @BeforeEach
    void setUp() &#123;
        lock = redissonClient.getLock(&quot;order&quot;);
    &#125;

    @Test
    void method1() throws InterruptedException &#123;
        // 尝试获取锁
        boolean isLock = lock.tryLock(1L, TimeUnit.SECONDS);
        if (!isLock) &#123;
            log.error(&quot;获取锁失败 .... 1&quot;);
            return;
        &#125;
        try &#123;
            log.info(&quot;获取锁成功 .... 1&quot;);
            method2();
            log.info(&quot;开始执行业务 ... 1&quot;);
        &#125; finally &#123;
            log.warn(&quot;准备释放锁 .... 1&quot;);
            lock.unlock();
        &#125;
    &#125;
    void method2() &#123;
        // 尝试获取锁
        boolean isLock = lock.tryLock();
        if (!isLock) &#123;
            log.error(&quot;获取锁失败 .... 2&quot;);
            return;
        &#125;
        try &#123;
            log.info(&quot;获取锁成功 .... 2&quot;);
            log.info(&quot;开始执行业务 ... 2&quot;);
        &#125; finally &#123;
            log.warn(&quot;准备释放锁 .... 2&quot;);
            lock.unlock();
        &#125;
    &#125;
&#125;
</code></pre>
<p><img src="https://raw.githubusercontent.com/P-luminary/images/0c634eeb71f9676e5782d1082d2b94351da3d7ae/%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81.png"></p>
<h4 id="Redisson的锁重试和WatchDog机制"><a href="#Redisson的锁重试和WatchDog机制" class="headerlink" title="Redisson的锁重试和WatchDog机制"></a>Redisson的锁重试和WatchDog机制</h4><h5 id="基于Redis的分布式锁优化-1"><a href="#基于Redis的分布式锁优化-1" class="headerlink" title="基于Redis的分布式锁优化"></a>基于Redis的分布式锁优化</h5><h6 id="基于setnx实现的分布式锁存在下面的问题：-1"><a href="#基于setnx实现的分布式锁存在下面的问题：-1" class="headerlink" title="基于setnx实现的分布式锁存在下面的问题："></a>基于setnx实现的分布式锁存在下面的问题：</h6><p><strong>不可重入：</strong>同一个线程无法多次获得同一把锁<br><strong>不可重试：</strong>获取锁只尝试一次就返回false，没有重试机制<br><strong>超时释放：</strong>锁超时释放虽然可以避免死锁，但如果是业务执行耗时较长，也会导致锁释放，存在安全隐患<br><strong>主从一致性：</strong>如果Redis提供了主从集群主从同步存在延迟，当主宕机时，如果从并同步主中的锁数据，则会出现锁实现</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/后端" style=color:#ffa2c4>
                后端
            </a>
        </span>
        
    </div>

    <a href="/2022/01/15/后端/Redis实战篇/ " class="go-post">
        阅读全文
    </a>
</div>


             
<div class="page-current">

    <div class="prev">
        
        <a href="/page/11/">
            <span class="page-num">
                <a-icon type="caret-left" theme="filled" />
            </span>
        </a>
        
    </div>

    <div class="page-index">

        
        <span>

            
            <a href="/"><span class="page-num">1</span></a>
            <span class="page-omit">...</span>
            

            

            

            
            <a href="/page/10">
                <span class="page-num">
                    10
                </span>
            </a>
            

            
            <a href="/page/11/">
                <span class="page-num">
                    11
                </span>
            </a>
        </span>
        

        <span class="current">
            12
        </span>

        

    </div>

    <div class="next">
        
    </div>

</div>

        </div>
    </div>
    
    <div id="home-card">
        <a-affix :offset-top="card_top">
    <a-card class="card-style" style="width: 300px">
        <div class="avatar">
            <img src="https://raw.githubusercontent.com/P-luminary/images/master/data/asuna.jpg " alt="头像">
        </div>
        <div class="name">
            Asuna
        </div>
        <div class="descriptions">
            
            <div class="description">
                You are the one who can always get to me even with screen between us.
            </div>
            
        </div>
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/P-luminary">

                    
                    <a-icon type="github"
                        theme="filled" />
                    
                </a>
            </span>
            
            <span class="icon-link">
                <a href="">

                    
                    <a-icon type="twitter"
                        theme="" />
                    
                </a>
            </span>
            
        </div>
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://thirsty-c.github.io">
                    胃病患者博客
                </a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://charet.github.io">
                    社恐肥宅博客
                </a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://fish214057.github.io">
                    ButterflyFish博客
                </a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://mrnobody233.github.io">
                    木子日天博客
                </a>
            </div>
            
        </div>
    </a-card>
</a-affix>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2025 P-luminary
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Asuna
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a>
<!--         & <a target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div> -->
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>